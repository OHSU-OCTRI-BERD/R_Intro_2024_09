<!DOCTYPE html>
<html lang="en"><head>
<script src="slides_R_berd_2024_files/libs/clipboard/clipboard.min.js"></script>
<script src="slides_R_berd_2024_files/libs/quarto-html/tabby.min.js"></script>
<script src="slides_R_berd_2024_files/libs/quarto-html/popper.min.js"></script>
<script src="slides_R_berd_2024_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="slides_R_berd_2024_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="slides_R_berd_2024_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="slides_R_berd_2024_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="slides_R_berd_2024_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.4.555">

  <meta name="author" content="Jessica Minnier, Meike Niederhausen">
  <meta name="dcterms.date" content="2024-09-19">
  <title>Getting Started in R and Rstudio</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="slides_R_berd_2024_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="slides_R_berd_2024_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="slides_R_berd_2024_files/libs/revealjs/dist/theme/quarto.css">
  <link href="slides_R_berd_2024_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="slides_R_berd_2024_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="slides_R_berd_2024_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="slides_R_berd_2024_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="slides_R_berd_2024_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="slides_R_berd_2024_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Getting Started in R and Rstudio</h1>
  <p class="subtitle">Parts 1 &amp; 2</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Jessica Minnier, Meike Niederhausen 
</div>
        <p class="quarto-title-affiliation">
            OHSU OCTRI-BERD
          </p>
    </div>
</div>

  <p class="date">2024-09-19</p>
</section>
<section>
<section id="load-files-for-todays-workshop" class="title-slide slide level1 center scrollable">
<h1>Load files for today’s workshop</h1>
<ol type="1">
<li><p>Open Google Doc <a href="https://bit.ly/berd_r_intro_2024_doc" class="uri">https://bit.ly/berd_r_intro_2024_doc</a></p>
<ul>
<li>Use this to post questions!</li>
<li>This has all the links in it</li>
</ul></li>
<li><p>Download folder of files using link <a href="https://bit.ly/berd_intro_2024_files" class="uri">https://bit.ly/berd_intro_2024_files</a></p>
<ul>
<li><p><strong>Do you have a PC? Need to right click .zip file and select EXTRACT ALL</strong></p></li>
<li><p>Do you have a Mac? Just double click .zip file and it will open</p></li>
<li><p>These files are hosted on github <a href="https://github.com/OHSU-OCTRI-BERD/R_Intro_2024_09" class="uri">https://github.com/OHSU-OCTRI-BERD/R_Intro_2024_09</a></p></li>
</ul></li>
<li><p>Open the slides file (html) in a web browser: <code>slides_R_berd_2024.html</code> or use the link <a href="https://bit.ly/berd_intro_2024_slides" class="uri">https://bit.ly/berd_intro_2024_slides</a></p></li>
<li><p><span style="color:darkorange">Open RStudio by double-clicking on the file</span> <code>berd_r_intro_2024_09.Rproj</code></p></li>
</ol>
</section>
<section id="overview" class="slide level2">
<h2>Overview</h2>
<div class="columns">
<div class="column" style="width:50%;">
<h3 id="part-1-09192024">Part 1: 09/19/2024</h3>
<ul>
<li>Intro to R &amp; RStudio</li>
<li>Quarto documents &amp; code chunks</li>
<li>R packages</li>
<li>Data: loading, viewing</li>
<li>Summarizing data
<ul>
<li>Quantitative</li>
<li>Categorical</li>
</ul></li>
<li>Data visualizations
<ul>
<li>Quantitative: histograms, boxplots, scatterplots</li>
<li>Categorical: barplots</li>
</ul></li>
<li>Missing data summary</li>
</ul>
</div><div class="column" style="width:50%;">
<h3 id="part-2-10032024">Part 2: 10/03/2024</h3>
<ul>
<li>Data wrangling
<ul>
<li>Sorting data</li>
<li>Subsetting data (rows, columns)</li>
<li>Creating new variables in a dataset</li>
<li>Factor level variables</li>
</ul></li>
<li>Some more data viz (stratifying figures)</li>
<li>Replacing missing values with another value</li>
<li>Resources</li>
</ul>
</div>
</div>
</section></section>
<section>
<section id="introduction-to-r" class="title-slide slide level1 center">
<h1>Introduction to R</h1>

<img data-src="image/horst_welcome_R.png" class="r-stretch quarto-figure-center"><p class="caption"><a href="https://allisonhorst.com/everything-else">Artwork by @allison_horst</a></p></section>
<section id="what-is-r" class="slide level2">
<h2>What is R?</h2>
<div class="columns">
<div class="column" style="width:70%;">
<ul>
<li>A programming language</li>
<li>Focus on statistical modeling and data analysis
<ul>
<li>import data, manipulate data, run statistics, make plots</li>
</ul></li>
<li>Useful for data science</li>
<li>Great visualizations</li>
<li>Also useful for most anything else you’d want to tell a computer to do</li>
<li>Interfaces with other languages i.e.&nbsp;python, C++, bash</li>
</ul>
</div><div class="column" style="width:30%;">
<p><img data-src="image/R_logo.png"></p>
</div>
</div>
<p>For the history and details: <a href="https://bit.ly/1efFmaY">Wikipedia</a></p>
<ul>
<li>an interpreted language (run it through a command line)</li>
<li>procedural programming with functions</li>
<li>Why “R”?? Scheme inspired S (invented at Bell Labs in 1976) which inspired R since 1st letters of original authors (<strong>free and open source!</strong> in 2000)</li>
</ul>
</section>
<section id="what-is-rstudio" class="slide level2">
<h2>What is RStudio?</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>R is a programming language</p>
</div><div class="column" style="width:50%;">
<p>RStudio is an integrated development environment (IDE) = an interface to use R (with perks!)</p>
</div>
</div>

<img data-src="image/r_vs_rstudio_1.png" class="r-stretch quarto-figure-center"><p class="caption"><a href="https://moderndive.com/1-getting-started.html#r-rstudio">Modern Dive</a></p></section>
<section id="open-rstudio-on-your-computer-not-r" class="slide level2">
<h2>Open RStudio on your computer (not R!)</h2>

<img data-src="image/01_md_r.png" class="r-stretch quarto-figure-center"><p class="caption"><a href="https://moderndive.com/1-getting-started.html#using-r-via-rstudio">Modern Dive</a></p></section>
<section id="rstudio-anatomy" class="slide level2">
<h2>RStudio anatomy</h2>

<img data-src="image/RStudio_Anatomy.svg" class="r-stretch quarto-figure-center"><p class="caption"><a href="http://www-users.york.ac.uk/~er13/17C%20-%202018/pracs/01IntroductionToModuleAndRStudio.html#what_are_r_and_rstudio">Emma Rand</a></p><p>Read more about RStudio’s layout in Section 3.4 of “<a href="https://ismayc.github.io/rbasics-book/3-rstudiobasics.html#rstudio-layout">Getting Used to R, RStudio, and R Markdown</a>” (Ismay and Kennedy 2021)</p>
</section></section>
<section>
<section id="creating-reproducible-reports-with-quarto" class="title-slide slide level1 center">
<h1>Creating reproducible reports with Quarto</h1>

<img data-src="image/horst_rmarkdown_wizards_quarto.png" class="r-stretch quarto-figure-center"><p class="caption"><a href="https://allisonhorst.com/r-packages-functions">Artwork by @allison_horst</a></p></section>
<section id="quarto-.qmd-file-code-text-to-html" class="slide level2">
<h2>Quarto = <code>.qmd</code> file = Code + text <span class="math inline">\(\to\)</span> html</h2>
<p><code>.qmd</code> files contain code + markdown syntax which can be “rendered” to other formats (html, pdf, Word, etc)</p>
<div class="columns">
<div class="column" style="width:50%;">
<p>.qmd file <img data-src="image/01_qmd_screenshot.png" class="quarto-figure quarto-figure-center"></p>
</div><div class="column" style="width:50%;">
<p>html output<br>
<img data-src="image/default_quarto_html.png" class="quarto-figure quarto-figure-center"></p>
</div>
</div>
</section></section>
<section>
<section id="basic-quarto-example" class="title-slide slide level1 center">
<h1>Basic Quarto example</h1>

<img data-src="image/horst_quarto_moon_penguins.png" class="r-stretch quarto-figure-center"><p class="caption"><a href="https://allisonhorst.com/cetinkaya-rundel-lowndes-quarto-keynote">Artwork from “Hello, Quarto” keynote by Julia Lowndes and Mine Çetinkaya-Rundel, presented at RStudio Conference 2022. Illustrated by Allison Horst.</a></p></section>
<section id="create-a-quarto-file-.qmd" class="slide level2 scrollable">
<h2>1. Create a Quarto file (<code>.qmd</code>)</h2>
<p><strong>Two options:</strong></p>
<ol type="1">
<li>click on File <span class="math inline">\(\rightarrow\)</span> New File <span class="math inline">\(\rightarrow\)</span> Quarto Document…<span class="math inline">\(\rightarrow\)</span> OK,</li>
<li>or in upper left corner of RStudio click on <img data-src="image/green_plus_create_file.png" width="70"> <span class="math inline">\(\rightarrow\)</span> <img data-src="image/select_quarto_option.png" width="250"></li>
</ol>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Pop-up window selections:</strong></p>
<ul>
<li>Enter a title and your name</li>
<li>Select <code>HTML</code> output format (default)</li>
<li>Engine: select <code>Knitr</code></li>
<li>Editor: Select <code>Use visual markdown editor</code></li>
<li>Click <code>Create</code></li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="image/01_qmd_screenshot_popup.png"></p>
</div>
</div>
</section>
<section id="create-a-quarto-file-.qmd-1" class="slide level2">
<h2>2. Create a Quarto file (<code>.qmd</code>)</h2>
<ul>
<li>After clicking on <code>Create</code>, you should then see the following in your editor window:</li>
</ul>

<img data-src="image/01_qmd_screenshot.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="save-the-quarto-file-.qmd" class="slide level2">
<h2>3. Save the Quarto file (<code>.qmd</code>)</h2>
<ul>
<li><strong>Save the file</strong> by
<ul>
<li>selecting <code>File -&gt; Save</code>,</li>
<li>or clicking on <img data-src="image/01_Script_Save.png" width="33" height="24"> (towards the left above the scripting window),</li>
<li>or keyboard shortcut
<ul>
<li>PC: <em>Ctrl + s</em></li>
<li>Mac: <em>Command + s</em></li>
</ul></li>
</ul></li>
<li>You will need to specify
<ul>
<li>a <strong>filename</strong> to save the file as
<ul>
<li>ALWAYS use <strong>.qmd</strong> as the filename extension for Quarto files</li>
</ul></li>
<li>the <strong>folder</strong> to save the file in</li>
</ul></li>
</ul>
</section>
<section id="create-render-html-file" class="slide level2 scrollable">
<h2>4. Create (render) html file</h2>
<p>We create the html file by <strong>rendering</strong> the .qmd file.</p>
<p>Two options:</p>
<ol type="1">
<li>click on the Render icon <img data-src="image/render_icon.png"> at the top of the editor window,</li>
<li>or use keyboard shortcuts
<ul>
<li>Mac: <em>Command+Shift+K</em></li>
<li>PC: <em>Ctrl+Shift+K</em></li>
</ul></li>
</ol>
<ul>
<li>A new window will open with the html output.</li>
<li>You will now see both .qmd and .html files in the folder where you saved the .qmd file.</li>
</ul>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<ul>
<li>The template .qmd file that RStudio creates will render to an html file by default.</li>
<li>The output format can be changed to create a Word doc, pdf, slides, etc.</li>
</ul>
</div>
</div>
</div>
</section>
<section id="qmd-file-vs.-its-html-output" class="slide level2">
<h2>.qmd file vs.&nbsp;its html output</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>.qmd file <img data-src="image/01_qmd_screenshot.png" class="quarto-figure quarto-figure-center"></p>
</div><div class="column" style="width:50%;">
<p>html output<br>
<img data-src="image/default_quarto_html.png" class="quarto-figure quarto-figure-center"></p>
</div>
</div>
</section></section>
<section>
<section id="types-of-quarto-content" class="title-slide slide level1 center scrollable">
<h1>3 types of Quarto content</h1>
<ol type="1">
<li><span style="color:darkorange"><em>Code chunks</em></span></li>
<li>Text, lists, images, tables, links (covered in Quarto workshop)</li>
<li>YAML metadata (covered in Quarto workshop)</li>
</ol>

<img data-src="image/horst_hedgehog_text_code.png" class="r-stretch quarto-figure-center"><p class="caption"><a href="https://allisonhorst.com/horst-hill-collaborations">Illustration by Alison Hill and Allison Horst, for RStudio.</a></p></section>
<section id="code-chunks" class="slide level2">
<h2>Code chunks</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>.qmd file <img data-src="image/01_qmd_screenshot.png" class="quarto-figure quarto-figure-center"></p>
</div><div class="column" style="width:50%;">
<p>html output<br>
<img data-src="image/default_quarto_html.png" class="quarto-figure quarto-figure-center"></p>
</div>
</div>
</section>
<section id="what-does-a-code-chunk-look-like" class="slide level2">
<h2>What does a code chunk look like?</h2>
<p>An empty code chunk looks like this:</p>
<p><code>Visual editor</code></p>
<p><img data-src="image/01_qmd_chunk_empty_visual.png"></p>
<p><code>Source editor</code></p>
<p><img data-src="image/01_qmd_chunk_empty_source.png"></p>
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Important</strong></p>
</div>
<div class="callout-content">
<p>Note that a code chunks start with <code>```{r}</code> and ends with <code>```</code>. Make sure there is no space before <code>```</code>.</p>
</div>
</div>
</div>
</section>
<section id="enter-and-run-code-12" class="slide level2">
<h2>Enter and run code (1/2)</h2>
<ul>
<li><strong>Type R code</strong> inside code chunks</li>
<li><strong>Select code</strong> you want to run, by
<ul>
<li>placing the cursor in the line of code you want to run,</li>
<li><strong><em>or</em></strong> highlighting the code you want to run</li>
</ul></li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><strong>Run selected code</strong> by
<ul>
<li>clicking on the <img data-src="image/01_Script_Run.png"> button in the top right corner of the scripting window and choosing <code>Run Selected Line(s)</code>,</li>
<li>or typing one of the following key combinations:</li>
</ul></li>
</ul>
<table class="caption-top">
<tbody>
<tr class="odd">
<td>Mac</td>
<td><strong>ctrl + return</strong></td>
</tr>
<tr class="even">
<td>PC</td>
<td><strong>command + return</strong></td>
</tr>
</tbody>
</table>
<ul>
<li><em>Where does the output appear?</em></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="image/01_qmd_coding1a.png" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="enter-and-run-code-22" class="slide level2">
<h2>Enter and run code (2/2)</h2>
<div style="font-size: 80%;">
<ul>
<li><strong>Run all code</strong> in a chunk by
<ul>
<li>by clicking the play button in the top right corner of the chunk</li>
</ul></li>
<li>The code output appears below the code chunk</li>
</ul>
</div>

<img data-src="image/01_qmd_coding2.png" class="quarto-figure quarto-figure-center r-stretch"><div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<ul>
<li>The output should also appear in the Console.</li>
<li>Settings can be changed so that the output appears only in the Console and not below the code chunk:
<ul>
<li>Select {{&lt; fa solid gear &gt;}} (to right of Render button) and then <em>Chunk Output in Console</em>.</li>
</ul></li>
</ul>
</div>
</div>
</div>
</section>
<section id="create-a-code-chunk" class="slide level2 scrollable">
<h2>Create a code chunk</h2>
<p>3 options to create a code chunk</p>
<ol type="1">
<li><p>Click on <img data-src="image/code_chunk_insert_icon.png"> at top right of the editor window, or</p></li>
<li><p><span style="color:darkorange"><strong>Keyboard shortcut</strong></span></p></li>
</ol>
<table class="caption-top">
<tbody>
<tr class="odd">
<td>Mac</td>
<td><em>Command + Option + I</em></td>
</tr>
<tr class="even">
<td>PC</td>
<td><em>Ctrl + Alt + I</em></td>
</tr>
</tbody>
</table>
<ol start="3" type="1">
<li><code>Visual editor</code>: Select <code>Insert</code> -&gt; <code>Executable Cell</code> -&gt; <code>R</code></li>
</ol>
<p><img data-src="image/code_chunk_insert_visual.png"></p>
</section></section>
<section>
<section id="r-packages-install-load" class="title-slide slide level1 center">
<h1>R Packages: install &amp; load</h1>

<img data-src="image/tidyverse_celestial.jpg" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="what-are-r-packages" class="slide level2">
<h2>What are R Packages?</h2>
<p>A good analogy for R packages is that they<br>
are like apps you can download onto a mobile phone:</p>

<img data-src="image/R_vs_R_packages.png" class="r-stretch quarto-figure-center"><p class="caption"><a href="https://moderndive.com/1-getting-started.html#packages">ModernDive Figure 1.4</a></p></section>
<section id="installing-packages" class="slide level2 scrollable">
<h2>Installing packages</h2>
<ul>
<li>Packages contain additional functions and data</li>
</ul>
<p>Two options to install packages:</p>
<ol type="1">
<li><code>install.packages()</code> <em>or</em></li>
<li>The “Packages” tab in Files/Plots/Packages/Help/Viewer window</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href=""></a><span class="fu">install.packages</span>(<span class="st">"janitor"</span>)   <span class="co"># only do this ONCE, use quotes</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><strong>Only install packages once</strong> <em>(unless you want to update them)</em></li>
<li>Installed from <a href="https://cran.r-project.org/">Comprehensive R Archive Network (CRAN)</a> = package mothership</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="image/screenshot_packages_window.png" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="packages-used-in-this-workshop" class="slide level2">
<h2>Packages used in this workshop</h2>
<ul>
<li><p><strong>tidyverse</strong>: collection of many commonly used packages, including: readr, forcats, ggplot2 (see list <a href="https://www.tidyverse.org/packages/">here</a>)</p></li>
<li><p>For loading datasets:</p>
<ul>
<li>readr (a part of tidyverse)</li>
<li><strong>readxl</strong></li>
</ul></li>
<li><p>For summarizing data</p>
<ul>
<li><strong>janitor</strong></li>
<li><strong>gt</strong></li>
<li><strong>rstatix</strong></li>
<li><strong>gtsummary</strong></li>
<li><strong>naniar</strong></li>
<li>ggplot2 (for graphing, loaded with tidyverse)</li>
</ul></li>
<li><p>for wrangling data</p>
<ul>
<li>dplyr, tidyr (loaded with tidyverse)</li>
</ul></li>
</ul>
</section>
<section id="install-packages-used-in-this-workshop" class="slide level2">
<h2>Install packages used in this workshop</h2>
<ul>
<li>Run the code below to install packages:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href=""></a><span class="fu">install.packages</span>(<span class="st">"tidyverse"</span>)  <span class="co"># this takes a while to install</span></span>
<span id="cb2-2"><a href=""></a><span class="fu">install.packages</span>(<span class="st">"writexl"</span>)</span>
<span id="cb2-3"><a href=""></a><span class="fu">install.packages</span>(<span class="st">"rstatix"</span>) </span>
<span id="cb2-4"><a href=""></a><span class="fu">install.packages</span>(<span class="st">"janitor"</span>)</span>
<span id="cb2-5"><a href=""></a><span class="fu">install.packages</span>(<span class="st">"naniar"</span>)</span>
<span id="cb2-6"><a href=""></a><span class="fu">install.packages</span>(<span class="st">"gt"</span>)</span>
<span id="cb2-7"><a href=""></a><span class="fu">install.packages</span>(<span class="st">"gtsummary"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>It is <strong>VERY IMPORTANT</strong> that you install these packages in order to run the code for the workshop!</li>
</ul>
</section>
<section id="load-packages-with-library-command" class="slide level2">
<h2>Load packages with <code>library()</code> command</h2>
<ul>
<li>Use the <code>library()</code> command to load each required package.</li>
<li>Packages need to be loaded <em>every</em> time you open Rstudio.
<ul>
<li><strong>The code to load packages MUST be in your qmd file.</strong></li>
<li><em>Tip: at the top of your qmd file, create a chunk that loads all of the R packages you want to use in that file.</em></li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href=""></a><span class="fu">library</span>(janitor)    <span class="co"># run this every time you open Rstudio</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Check to see whether a package has been loaded:
<ul>
<li>Go to Packages tab</li>
<li>If box to left of package name is checked off, then it’s loaded</li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="image/screenshot_packages_window.png" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="load-packages-used-in-this-workshop" class="slide level2">
<h2>Load packages used in this workshop</h2>
<ul>
<li>Run the code below in your R session</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href=""></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb4-2"><a href=""></a><span class="fu">library</span>(writexl)</span>
<span id="cb4-3"><a href=""></a><span class="fu">library</span>(rstatix)</span>
<span id="cb4-4"><a href=""></a><span class="fu">library</span>(janitor)</span>
<span id="cb4-5"><a href=""></a><span class="fu">library</span>(naniar)</span>
<span id="cb4-6"><a href=""></a><span class="fu">library</span>(gt)</span>
<span id="cb4-7"><a href=""></a><span class="fu">library</span>(gtsummary)</span>
<span id="cb4-8"><a href=""></a><span class="fu">library</span>(readxl)  <span class="co"># part of tidyverse, but not the tidyverse core</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<ul>
<li>Note that the package names do not need quotes around them when using the <code>library()</code> function, but they are required when using the <code>install.packages()</code> function.</li>
</ul>
</div>
</div>
</div>
</section></section>
<section>
<section id="data-basics-in-r" class="title-slide slide level1 center">
<h1>Data basics in R</h1>

<img data-src="image/horst_data_cowboy.png" class="r-stretch quarto-figure-center"><p class="caption"><a href="https://allisonhorst.com/r-packages-functions">Artwork by @allison_horst</a></p></section>
<section id="dataset-example-toy-data" class="slide level2">
<h2>Dataset example (toy data)</h2>
<p>&nbsp;</p>
<div style="font-size: 110%;">
<ul>
<li><p><span style="color:darkorange"><strong>Use Excel to open the dataset <code>toy_data.xlsx</code> that is located in the data folder.</strong></span></p></li>
<li><p>Terminology</p>
<ul>
<li>Rows are usually <strong>observations</strong> (i.e.&nbsp;a person’s measurements)</li>
<li>Columns are usually <strong>variables</strong> or <strong>measures</strong></li>
</ul></li>
<li><p>How many observations are in this dataset?</p></li>
<li><p>What are the variable types in this dataset?</p></li>
</ul>
</div>
</section>
<section id="import-data-into-r" class="slide level2">
<h2>Import data into R</h2>
<p>&nbsp;</p>
<div style="font-size: 110%;">
<ul>
<li><p>We can import data from many file types, including .csv, .txt., .xlsx, plus SAS or Stata files</p></li>
<li><p>Once imported, R typically stores data as <span style="color:darkorange"><strong>data frames</strong></span>, or <span style="color:darkorange"><strong>tibbles</strong></span> if using the <code>tidyverse</code> package.</p>
<ul>
<li>For our purposes, these are essentially the same, and we will tend to use the terms interchangeably.</li>
<li>These are examples of what we call <span style="color:darkorange"><strong>object types</strong></span> in R.</li>
</ul></li>
</ul>
</div>
</section>
<section id="load-data-from-an-.xlsx-excel-file-point-click-option" class="slide level2">
<h2>Load data from an .xlsx (Excel) file: <strong>point &amp; click option</strong></h2>
<p><strong>SAVE THE CODE after using the point &amp; click option</strong></p>
<div class="columns">
<div class="column" style="width:40%;">
<ul>
<li>In RStudio’s Files window, open the <code>data</code> folder and
<ul>
<li>then click on the dataset <code>toy_data.xlsx</code>.</li>
</ul></li>
<li>Select the <code>Import Dataset...</code> option,
<ul>
<li>Import Options: Type in <code>NA</code> in the “NA:” box, and</li>
<li>then click on the <code>Import</code> button on the bottom right of the pop-up window.</li>
</ul></li>
</ul>
</div><div class="column" style="width:60%;">
<p><img data-src="image/load_data_point_click.png" class="quarto-figure quarto-figure-center"> <img data-src="image/load_data_point_click_NA.png" class="quarto-figure quarto-figure-center"></p>
</div><ul>
<li><strong>Copy the code from the console used to load the file into your script</strong> (omitting the + sign):</li>
</ul><div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href=""></a>toy_data <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/toy_data.xlsx"</span>, <span class="at">na =</span> <span class="st">"NA"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="load-data-from-an-.xlsx-excel-file-code-option" class="slide level2">
<h2>Load data from an .xlsx (Excel) file: <strong>code option</strong></h2>
<ul>
<li>The point and click option used the <code>read_excel</code> command from the <code>readxl</code> package to load the xlsx file.</li>
<li>If comfortable with coding and the data, we can skip the point and click and directly write the code ourselves.</li>
<li>When loading the dataset, we need to specify where the xlsx file is located, which in this case is in the folder called <code>data</code>.</li>
<li>No matter which option we use, the <span style="color:darkorange"><strong>code to load the data MUST be in your qmd</strong></span>.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href=""></a><span class="co"># library(readxl) # commented out since loaded above already</span></span>
<span id="cb6-2"><a href=""></a>toy_data <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/toy_data.xlsx"</span>, <span class="at">na =</span> <span class="st">"NA"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>This code assigns the output of the <code>read_excel()</code> function (data) into an object named <code>toy_data</code></li>
<li>The <span style="color:green"><code>&lt;-</code> is the assignment operator</span></li>
<li>After loading, the name of the data frame object <code>toy_data</code> will be in your Environment tab</li>
<li>To learn more about loading in Excel files, read the readxl intro vignette: <a href="https://readxl.tidyverse.org/" class="uri">https://readxl.tidyverse.org/</a></li>
<li>Also check out the readxl cheatsheet (<a href="https://raw.githubusercontent.com/rstudio/cheatsheets/main/data-import.pdf">this will download a pdf</a>).</li>
</ul>
</section>
<section id="view-the-toy_data-dataset" class="slide level2">
<h2>View the <code>toy_data</code> dataset</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Run the <code>View</code> command below within RStudio.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href=""></a><span class="fu">View</span>(toy_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<ul>
<li>A new tab in the scripting window will appear with the <code>toy_data</code> dataset.</li>
<li>Note that the code chunk in the qmd file specifies <code>#| eval: FALSE</code> so that this code is not run while rendering the qmd file.</li>
</ul>
</div>
</div>

<img data-src="image/View_toy_data.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="what-are-the-variable-types" class="slide level2">
<h2>What are the variable “types”?</h2>
<p>&nbsp;</p>
<table class="caption-top">
<colgroup>
<col style="width: 25%">
<col style="width: 75%">
</colgroup>
<thead>
<tr class="header">
<th>R variable type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>dbl</code>: double</td>
<td>numbers; also <code>num</code> or <code>int</code> for numbers or integers</td>
</tr>
<tr class="even">
<td><code>chr</code>: character</td>
<td>text, “strings”</td>
</tr>
<tr class="odd">
<td><code>fct</code>: factor</td>
<td>categorical variables stored with levels (groups)</td>
</tr>
<tr class="even">
<td><code>lgl</code>: logical</td>
<td>boolean (TRUE, FALSE)</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href=""></a><span class="fu">glimpse</span>(toy_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 20
Columns: 11
$ id                     &lt;dbl&gt; 335340, 638618, 922382, 923122, 923963, 925603,…
$ age                    &lt;chr&gt; "17 years old", "16 years old", "14 years old",…
$ sex                    &lt;chr&gt; "Female", "Female", "Male", "Male", "Male", "Ma…
$ grade                  &lt;chr&gt; "10th", "9th", "9th", "9th", "10th", "10th", "1…
$ race4                  &lt;chr&gt; "White", NA, "White", "White", "Black or Africa…
$ bmi                    &lt;dbl&gt; 27.5671, 29.3495, 18.1827, 21.3754, 19.5988, 22…
$ weight_kg              &lt;dbl&gt; 66.23, 84.82, 57.61, 60.33, 63.50, 70.31, 45.36…
$ text_while_driving_30d &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, "0 days…
$ smoked_ever            &lt;chr&gt; NA, "Yes", "Yes", "Yes", "No", "No", "Yes", "No…
$ bullied_past_12mo      &lt;lgl&gt; NA, NA, FALSE, FALSE, TRUE, TRUE, TRUE, FALSE, …
$ height_m               &lt;dbl&gt; 1.550000, 1.699999, 1.779999, 1.680001, 1.79999…</code></pre>
</div>
</div>
</section>
<section id="getting-to-know-the-dataset" class="slide level2">
<h2>Getting to know the dataset</h2>
<h3 id="how-many-rows-and-columns">How many rows and columns?</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href=""></a><span class="co"># dim is for dimensions</span></span>
<span id="cb10-2"><a href=""></a><span class="co"># Output: # of rows, # of columns</span></span>
<span id="cb10-3"><a href=""></a><span class="fu">dim</span>(toy_data)   </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 20 11</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href=""></a><span class="fu">nrow</span>(toy_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 20</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href=""></a><span class="fu">ncol</span>(toy_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 11</code></pre>
</div>
</div>
<h3 id="what-are-the-variable-names">What are the variable names?</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href=""></a><span class="fu">names</span>(toy_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "id"                     "age"                    "sex"                   
 [4] "grade"                  "race4"                  "bmi"                   
 [7] "weight_kg"              "text_while_driving_30d" "smoked_ever"           
[10] "bullied_past_12mo"      "height_m"              </code></pre>
</div>
</div>
</section></section>
<section id="the-youth-risk-behavior-surveillance-system-yrbss" class="title-slide slide level1 center">
<h1>The Youth Risk Behavior Surveillance System (YRBSS)</h1>
<p>Data from the CDC’s <a href="https://www.cdc.gov/healthyyouth/data/yrbs/index.htm">Youth Risk Behavior Surveillance System (YRBSS)</a></p>
<ul>
<li>complex survey data</li>
<li>national school-based survey
<ul>
<li>conducted by CDC and state, territorial, and local education and health agencies and tribal governments</li>
</ul></li>
<li>monitors six categories of health-related behaviors
<ul>
<li>that contribute to the leading causes of death and disability among youth and adults</li>
<li>including alcohol &amp; drug use, unhealthy &amp; dangerous behaviors, sexuality, and physical activity</li>
<li>see <a href="https://www.cdc.gov/healthyyouth/data/yrbs/questionnaires.htm">Questionnaires</a></li>
</ul></li>
<li>the data in <code>yrbss_demo.xlsx</code> are a subset of data in the R package <a href="https://github.com/hadley/yrbss"><code>yrbss</code></a>, which includes YRBSS from 1991-2013</li>
</ul>
</section>

<section id="practice-time-part-1" class="title-slide slide level1 center scrollable">
<h1>Practice time! (part 1)</h1>
<p>Use R code to answer the following questions.</p>
<ol type="1">
<li>Open the Excel file <code>yrbss_demo.xlsx</code> in the <em>data</em> <em>folder</em> to familiarize yourself with it.</li>
<li>Load the dataset <code>yrbss_demo.xlsx</code>. Make sure the name of the loaded data is <code>yrbss_data</code>.</li>
<li>What are the column names?</li>
<li>How many rows and columns are in <code>yrbss_data</code>?</li>
<li>Which variables are numeric (quantitative)?</li>
<li>Which variables are character?</li>
</ol>
</section>

<section>
<section id="load-the-yrbss-data" class="title-slide slide level1 center">
<h1>Load the YRBSS data</h1>
<ul>
<li>Open the Excel file <code>yrbss_demo.xlsx</code> in the <em>data</em> <em>folder</em> to familiarize yourself with it.</li>
<li>This is a larger version of the toy data above, but it is still a subset of the full data.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href=""></a><span class="co"># library(readxl)</span></span>
<span id="cb18-2"><a href=""></a><span class="co"># note we are saving the data from the Excel file in our environment </span></span>
<span id="cb18-3"><a href=""></a><span class="co"># with the object name yrbss_data</span></span>
<span id="cb18-4"><a href=""></a>yrbss_data <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/yrbss_demo.xlsx"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>First look at the data:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href=""></a><span class="fu">glimpse</span>(yrbss_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 20,000
Columns: 8
$ record   &lt;dbl&gt; 931897, 333862, 36253, 1095530, 1303997, 261619, 926649, 1309…
$ age      &lt;chr&gt; "15 years old", "17 years old", "18 years old or older", "15 …
$ sex      &lt;chr&gt; "Female", "Female", "Male", "Male", "Male", "Male", "Male", "…
$ grade    &lt;chr&gt; "10th", "12th", "11th", "10th", "9th", "9th", "11th", "12th",…
$ race4    &lt;chr&gt; "White", "White", "Hispanic/Latino", "Black or African Americ…
$ race7    &lt;chr&gt; "White", "White", "Hispanic/Latino", "Black or African Americ…
$ bmi      &lt;dbl&gt; 17.1790, 20.2487, NA, 27.9935, 24.4922, NA, 20.5435, 19.2555,…
$ stweight &lt;dbl&gt; 54.43, 57.15, NA, 85.73, 66.68, NA, 70.31, 58.97, 123.38, NA,…</code></pre>
</div>
</div>
<ul>
<li>After loading the dataset, you will see <code>yrbss_data</code> in the Data list of the Environment window.</li>
</ul>
</section>
<section id="view-the-yrbss-dataset" class="slide level2">
<h2>View the <code>YRBSS</code> dataset</h2>
<ul>
<li>Run the <code>View</code> command below within RStudio.
<ul>
<li>A new tab in the scripting window will appear with the <code>yrbss_data</code> dataset.</li>
</ul></li>
<li>Note that the code chunk specifies <code>#| eval: FALSE</code> so that this code is not run while rendering the .qmd file.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href=""></a><span class="fu">View</span>(yrbss_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>First 20 rows shown below:</p>

<img data-src="image/View_yrbss_data.png" class="quarto-figure quarto-figure-center r-stretch"></section></section>
<section id="summarizing-data-and" class="title-slide slide level1 center">
<h1>Summarizing data and <code>%&gt;%</code></h1>
<ul>
<li>Often we want to summarize columns of data</li>
<li>Quantitative data and categorical/text data will be summarized differently</li>
<li>We also introduce the <span style="color:darkorange">pipe symbol</span> <code>%&gt;%</code>, which is used to string together commands</li>
</ul>
<p>The <span style="color:darkorange">pipe is read “and then”</span> and tells R the next function will be applied to the data on the left side of the pipe:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span></span>
<span id="cb22-2"><a href=""></a>  <span class="fu">head</span>() <span class="co"># shows top rows</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
   record age                   sex    grade race4          race7   bmi stweight
    &lt;dbl&gt; &lt;chr&gt;                 &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;          &lt;chr&gt; &lt;dbl&gt;    &lt;dbl&gt;
1  931897 15 years old          Female 10th  White          White  17.2     54.4
2  333862 17 years old          Female 12th  White          White  20.2     57.2
3   36253 18 years old or older Male   11th  Hispanic/Lati… Hisp…  NA       NA  
4 1095530 15 years old          Male   10th  Black or Afri… Blac…  28.0     85.7
5 1303997 14 years old          Male   9th   All other rac… Mult…  24.5     66.7
6  261619 17 years old          Male   9th   All other rac… &lt;NA&gt;   NA       NA  </code></pre>
</div>
</div>
</section>

<section>
<section id="summarizing-quantitative-data" class="title-slide slide level1 center">
<h1>Summarizing quantitative data</h1>
<ul>
<li>The <strong><code>rstatix</code> package</strong> has a useful function called <code>get_summary_stats()</code> for quick statistics of quantitative data</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href=""></a><span class="co"># library(rstatix)</span></span>
<span id="cb24-2"><a href=""></a></span>
<span id="cb24-3"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span> </span>
<span id="cb24-4"><a href=""></a>  <span class="fu">get_summary_stats</span>(</span>
<span id="cb24-5"><a href=""></a>    bmi, stweight,</span>
<span id="cb24-6"><a href=""></a>    <span class="at">type =</span> <span class="st">"common"</span></span>
<span id="cb24-7"><a href=""></a>    ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 10
  variable     n   min   max median   iqr  mean    sd    se    ci
  &lt;fct&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 bmi      13542  13.2  53.9   22.3  5.52  23.5  4.99 0.043 0.084
2 stweight 13443  27.7 181.    64.0 19.0   67.5 16.9  0.145 0.285</code></pre>
</div>
</div>
<ul>
<li>The <code>type</code> options are
<ul>
<li><code>type = c("full", "common", "robust", "five_number", "mean_sd", "mean_se", "mean_ci", "median_iqr", "median_mad", "quantile", "mean", "median", "min", "max")</code></li>
</ul></li>
</ul>
</section>
<section id="stratified-summaries-and-more-on" class="slide level2">
<h2>Stratified summaries (and more on <code>%&gt;%</code>)</h2>
<ul>
<li>Now let’s <strong>summarize the BMI and weight variables by a strata subgroup</strong>.</li>
<li>We do this with the <code>group_by()</code> function</li>
<li>Notice that we now have two <code>%&gt;%</code>:
<ul>
<li><code>data %&gt;% group_by(...) %&gt;% get_summary_stats(...)</code></li>
<li>With the pipe symbol <code>%&gt;%</code> we can <strong>string together many commands</strong> in the order we want them applied. Example:
<ul>
<li><p>first tell R what dataset to use,</p></li>
<li><p>then have R group (stratify) the data by <code>sex</code>,</p></li>
<li><p>and then calculate summary statistics</p></li>
</ul></li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span> </span>
<span id="cb26-2"><a href=""></a>  <span class="fu">group_by</span>(sex) <span class="sc">%&gt;%</span></span>
<span id="cb26-3"><a href=""></a>  <span class="fu">get_summary_stats</span>(</span>
<span id="cb26-4"><a href=""></a>    bmi, stweight,</span>
<span id="cb26-5"><a href=""></a>    <span class="at">type =</span> <span class="st">"common"</span></span>
<span id="cb26-6"><a href=""></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 11
  sex    variable     n   min   max median   iqr  mean    sd    se    ci
  &lt;chr&gt;  &lt;fct&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 Female bmi       6622  13.2  53.3   22.1  5.33  23.3  4.96 0.061 0.119
2 Female stweight  6542  27.7 181.    59.0 15.9   61.7 14.2  0.175 0.343
3 Male   bmi       6920  13.2  53.9   22.5  5.51  23.7  5.01 0.06  0.118
4 Male   stweight  6901  35.4 181.    69.4 20.0   73.1 17.4  0.209 0.41 </code></pre>
</div>
</div>
</section>
<section id="stratify-by-2-variables" class="slide level2">
<h2>Stratify by 2 variables</h2>
<ul>
<li>We can specify more than one variable within <code>group_by()</code> to stratify the summaries by more variables</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span> </span>
<span id="cb28-2"><a href=""></a>  <span class="fu">group_by</span>(sex, grade) <span class="sc">%&gt;%</span></span>
<span id="cb28-3"><a href=""></a>  <span class="fu">get_summary_stats</span>(</span>
<span id="cb28-4"><a href=""></a>    bmi, stweight,</span>
<span id="cb28-5"><a href=""></a>    <span class="at">type =</span> <span class="st">"common"</span></span>
<span id="cb28-6"><a href=""></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 20 × 12
   sex    grade variable     n   min   max median   iqr  mean    sd    se    ci
   &lt;chr&gt;  &lt;chr&gt; &lt;fct&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1 Female 10th  bmi       1604  13.6  52.3   22.0  5.29  23.0  4.75 0.119 0.233
 2 Female 10th  stweight  1582  37.2 132.    58.1 15.0   61.1 13.2  0.332 0.652
 3 Female 11th  bmi       1640  13.6  52.4   22.3  5.41  23.4  4.78 0.118 0.232
 4 Female 11th  stweight  1624  36.3 161.    59.0 15.0   62.5 14.1  0.35  0.687
 5 Female 12th  bmi       1675  15.4  53.3   22.7  5.47  23.9  5.23 0.128 0.251
 6 Female 12th  stweight  1664  36.3 154.    59.9 15.4   63.4 14.8  0.363 0.713
 7 Female 9th   bmi       1655  13.2  51.2   21.7  5.26  22.8  4.95 0.122 0.239
 8 Female 9th   stweight  1625  27.7 181.    56.7 15.4   59.8 14.1  0.35  0.686
 9 Female &lt;NA&gt;  bmi         48  17.0  47.6   21.2  4.35  23.1  5.69 0.821 1.65 
10 Female &lt;NA&gt;  stweight    47  35.8 113.    56.2 13.2   60.3 14.4  2.10  4.23 
11 Male   10th  bmi       1739  13.7  51.5   22.4  5.38  23.5  4.77 0.114 0.224
12 Male   10th  stweight  1734  40.8 163.    69.0 18.1   72.3 16.5  0.397 0.778
13 Male   11th  bmi       1704  14.0  53.9   23.0  5.58  24.1  4.97 0.12  0.236
14 Male   11th  stweight  1704  40.8 172.    70.8 20.4   75.2 17.2  0.416 0.815
15 Male   12th  bmi       1611  14.4  52.3   23.1  5.79  24.5  5.15 0.128 0.252
16 Male   12th  stweight  1611  43.1 181.    72.6 20.4   76.9 17.9  0.446 0.876
17 Male   9th   bmi       1773  13.2  52.9   21.7  5.58  22.8  4.88 0.116 0.227
18 Male   9th   stweight  1761  35.8 181.    65.8 19.0   68.2 16.4  0.391 0.768
19 Male   &lt;NA&gt;  bmi         93  13.9  53.4   21.7  5.86  23.7  6.83 0.708 1.41 
20 Male   &lt;NA&gt;  stweight    91  35.4 167.    69.0 20.0   73.1 21.6  2.27  4.50 </code></pre>
</div>
</div>
</section>
<section id="prettier-table-of-output" class="slide level2">
<h2>Prettier table of output</h2>
<ul>
<li>Below we add on <code>gt()</code> at the end to make the table prettier.
<ul>
<li>Make sure to check this out in the html output.</li>
</ul></li>
<li>The <code>gt()</code> command is from the <code>gt</code> <a href="https://gt.rstudio.com/">package</a></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span> </span>
<span id="cb30-2"><a href=""></a>  <span class="fu">group_by</span>(sex, grade) <span class="sc">%&gt;%</span></span>
<span id="cb30-3"><a href=""></a>  <span class="fu">get_summary_stats</span>(</span>
<span id="cb30-4"><a href=""></a>    bmi, stweight,</span>
<span id="cb30-5"><a href=""></a>    <span class="at">type =</span> <span class="st">"common"</span></span>
<span id="cb30-6"><a href=""></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb30-7"><a href=""></a>  <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="grkhtflbll" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#grkhtflbll table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#grkhtflbll thead, #grkhtflbll tbody, #grkhtflbll tfoot, #grkhtflbll tr, #grkhtflbll td, #grkhtflbll th {
  border-style: none;
}

#grkhtflbll p {
  margin: 0;
  padding: 0;
}

#grkhtflbll .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#grkhtflbll .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#grkhtflbll .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#grkhtflbll .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#grkhtflbll .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#grkhtflbll .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#grkhtflbll .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#grkhtflbll .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#grkhtflbll .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#grkhtflbll .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#grkhtflbll .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#grkhtflbll .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#grkhtflbll .gt_spanner_row {
  border-bottom-style: hidden;
}

#grkhtflbll .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#grkhtflbll .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#grkhtflbll .gt_from_md > :first-child {
  margin-top: 0;
}

#grkhtflbll .gt_from_md > :last-child {
  margin-bottom: 0;
}

#grkhtflbll .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#grkhtflbll .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#grkhtflbll .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#grkhtflbll .gt_row_group_first td {
  border-top-width: 2px;
}

#grkhtflbll .gt_row_group_first th {
  border-top-width: 2px;
}

#grkhtflbll .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#grkhtflbll .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#grkhtflbll .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#grkhtflbll .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#grkhtflbll .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#grkhtflbll .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#grkhtflbll .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#grkhtflbll .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#grkhtflbll .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#grkhtflbll .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#grkhtflbll .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#grkhtflbll .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#grkhtflbll .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#grkhtflbll .gt_left {
  text-align: left;
}

#grkhtflbll .gt_center {
  text-align: center;
}

#grkhtflbll .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#grkhtflbll .gt_font_normal {
  font-weight: normal;
}

#grkhtflbll .gt_font_bold {
  font-weight: bold;
}

#grkhtflbll .gt_font_italic {
  font-style: italic;
}

#grkhtflbll .gt_super {
  font-size: 65%;
}

#grkhtflbll .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#grkhtflbll .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#grkhtflbll .gt_indent_1 {
  text-indent: 5px;
}

#grkhtflbll .gt_indent_2 {
  text-indent: 10px;
}

#grkhtflbll .gt_indent_3 {
  text-indent: 15px;
}

#grkhtflbll .gt_indent_4 {
  text-indent: 20px;
}

#grkhtflbll .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table caption-top" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="sex" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">sex</th>
<th id="grade" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">grade</th>
<th id="variable" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">variable</th>
<th id="n" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">n</th>
<th id="min" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">min</th>
<th id="max" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">max</th>
<th id="median" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">median</th>
<th id="iqr" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">iqr</th>
<th id="mean" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">mean</th>
<th id="sd" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">sd</th>
<th id="se" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">se</th>
<th id="ci" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">ci</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="sex">Female</td>
<td class="gt_row gt_left" headers="grade">10th</td>
<td class="gt_row gt_center" headers="variable">bmi</td>
<td class="gt_row gt_right" headers="n">1604</td>
<td class="gt_row gt_right" headers="min">13.578</td>
<td class="gt_row gt_right" headers="max">52.269</td>
<td class="gt_row gt_right" headers="median">21.972</td>
<td class="gt_row gt_right" headers="iqr">5.288</td>
<td class="gt_row gt_right" headers="mean">22.985</td>
<td class="gt_row gt_right" headers="sd">4.753</td>
<td class="gt_row gt_right" headers="se">0.119</td>
<td class="gt_row gt_right" headers="ci">0.233</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="sex">Female</td>
<td class="gt_row gt_left" headers="grade">10th</td>
<td class="gt_row gt_center" headers="variable">stweight</td>
<td class="gt_row gt_right" headers="n">1582</td>
<td class="gt_row gt_right" headers="min">37.200</td>
<td class="gt_row gt_right" headers="max">131.540</td>
<td class="gt_row gt_right" headers="median">58.060</td>
<td class="gt_row gt_right" headers="iqr">14.970</td>
<td class="gt_row gt_right" headers="mean">61.071</td>
<td class="gt_row gt_right" headers="sd">13.216</td>
<td class="gt_row gt_right" headers="se">0.332</td>
<td class="gt_row gt_right" headers="ci">0.652</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="sex">Female</td>
<td class="gt_row gt_left" headers="grade">11th</td>
<td class="gt_row gt_center" headers="variable">bmi</td>
<td class="gt_row gt_right" headers="n">1640</td>
<td class="gt_row gt_right" headers="min">13.578</td>
<td class="gt_row gt_right" headers="max">52.431</td>
<td class="gt_row gt_right" headers="median">22.269</td>
<td class="gt_row gt_right" headers="iqr">5.406</td>
<td class="gt_row gt_right" headers="mean">23.448</td>
<td class="gt_row gt_right" headers="sd">4.780</td>
<td class="gt_row gt_right" headers="se">0.118</td>
<td class="gt_row gt_right" headers="ci">0.232</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="sex">Female</td>
<td class="gt_row gt_left" headers="grade">11th</td>
<td class="gt_row gt_center" headers="variable">stweight</td>
<td class="gt_row gt_right" headers="n">1624</td>
<td class="gt_row gt_right" headers="min">36.290</td>
<td class="gt_row gt_right" headers="max">160.570</td>
<td class="gt_row gt_right" headers="median">58.970</td>
<td class="gt_row gt_right" headers="iqr">14.970</td>
<td class="gt_row gt_right" headers="mean">62.536</td>
<td class="gt_row gt_right" headers="sd">14.116</td>
<td class="gt_row gt_right" headers="se">0.350</td>
<td class="gt_row gt_right" headers="ci">0.687</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="sex">Female</td>
<td class="gt_row gt_left" headers="grade">12th</td>
<td class="gt_row gt_center" headers="variable">bmi</td>
<td class="gt_row gt_right" headers="n">1675</td>
<td class="gt_row gt_right" headers="min">15.375</td>
<td class="gt_row gt_right" headers="max">53.265</td>
<td class="gt_row gt_right" headers="median">22.656</td>
<td class="gt_row gt_right" headers="iqr">5.470</td>
<td class="gt_row gt_right" headers="mean">23.884</td>
<td class="gt_row gt_right" headers="sd">5.231</td>
<td class="gt_row gt_right" headers="se">0.128</td>
<td class="gt_row gt_right" headers="ci">0.251</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="sex">Female</td>
<td class="gt_row gt_left" headers="grade">12th</td>
<td class="gt_row gt_center" headers="variable">stweight</td>
<td class="gt_row gt_right" headers="n">1664</td>
<td class="gt_row gt_right" headers="min">36.290</td>
<td class="gt_row gt_right" headers="max">154.220</td>
<td class="gt_row gt_right" headers="median">59.880</td>
<td class="gt_row gt_right" headers="iqr">15.420</td>
<td class="gt_row gt_right" headers="mean">63.434</td>
<td class="gt_row gt_right" headers="sd">14.822</td>
<td class="gt_row gt_right" headers="se">0.363</td>
<td class="gt_row gt_right" headers="ci">0.713</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="sex">Female</td>
<td class="gt_row gt_left" headers="grade">9th</td>
<td class="gt_row gt_center" headers="variable">bmi</td>
<td class="gt_row gt_right" headers="n">1655</td>
<td class="gt_row gt_right" headers="min">13.161</td>
<td class="gt_row gt_right" headers="max">51.208</td>
<td class="gt_row gt_right" headers="median">21.660</td>
<td class="gt_row gt_right" headers="iqr">5.261</td>
<td class="gt_row gt_right" headers="mean">22.819</td>
<td class="gt_row gt_right" headers="sd">4.954</td>
<td class="gt_row gt_right" headers="se">0.122</td>
<td class="gt_row gt_right" headers="ci">0.239</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="sex">Female</td>
<td class="gt_row gt_left" headers="grade">9th</td>
<td class="gt_row gt_center" headers="variable">stweight</td>
<td class="gt_row gt_right" headers="n">1625</td>
<td class="gt_row gt_right" headers="min">27.670</td>
<td class="gt_row gt_right" headers="max">180.990</td>
<td class="gt_row gt_right" headers="median">56.700</td>
<td class="gt_row gt_right" headers="iqr">15.420</td>
<td class="gt_row gt_right" headers="mean">59.802</td>
<td class="gt_row gt_right" headers="sd">14.103</td>
<td class="gt_row gt_right" headers="se">0.350</td>
<td class="gt_row gt_right" headers="ci">0.686</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="sex">Female</td>
<td class="gt_row gt_left" headers="grade">NA</td>
<td class="gt_row gt_center" headers="variable">bmi</td>
<td class="gt_row gt_right" headers="n">48</td>
<td class="gt_row gt_right" headers="min">16.991</td>
<td class="gt_row gt_right" headers="max">47.610</td>
<td class="gt_row gt_right" headers="median">21.216</td>
<td class="gt_row gt_right" headers="iqr">4.349</td>
<td class="gt_row gt_right" headers="mean">23.092</td>
<td class="gt_row gt_right" headers="sd">5.687</td>
<td class="gt_row gt_right" headers="se">0.821</td>
<td class="gt_row gt_right" headers="ci">1.651</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="sex">Female</td>
<td class="gt_row gt_left" headers="grade">NA</td>
<td class="gt_row gt_center" headers="variable">stweight</td>
<td class="gt_row gt_right" headers="n">47</td>
<td class="gt_row gt_right" headers="min">35.830</td>
<td class="gt_row gt_right" headers="max">113.400</td>
<td class="gt_row gt_right" headers="median">56.250</td>
<td class="gt_row gt_right" headers="iqr">13.155</td>
<td class="gt_row gt_right" headers="mean">60.261</td>
<td class="gt_row gt_right" headers="sd">14.413</td>
<td class="gt_row gt_right" headers="se">2.102</td>
<td class="gt_row gt_right" headers="ci">4.232</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="sex">Male</td>
<td class="gt_row gt_left" headers="grade">10th</td>
<td class="gt_row gt_center" headers="variable">bmi</td>
<td class="gt_row gt_right" headers="n">1739</td>
<td class="gt_row gt_right" headers="min">13.664</td>
<td class="gt_row gt_right" headers="max">51.540</td>
<td class="gt_row gt_right" headers="median">22.430</td>
<td class="gt_row gt_right" headers="iqr">5.379</td>
<td class="gt_row gt_right" headers="mean">23.453</td>
<td class="gt_row gt_right" headers="sd">4.766</td>
<td class="gt_row gt_right" headers="se">0.114</td>
<td class="gt_row gt_right" headers="ci">0.224</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="sex">Male</td>
<td class="gt_row gt_left" headers="grade">10th</td>
<td class="gt_row gt_center" headers="variable">stweight</td>
<td class="gt_row gt_right" headers="n">1734</td>
<td class="gt_row gt_right" headers="min">40.820</td>
<td class="gt_row gt_right" headers="max">163.300</td>
<td class="gt_row gt_right" headers="median">68.950</td>
<td class="gt_row gt_right" headers="iqr">18.140</td>
<td class="gt_row gt_right" headers="mean">72.318</td>
<td class="gt_row gt_right" headers="sd">16.513</td>
<td class="gt_row gt_right" headers="se">0.397</td>
<td class="gt_row gt_right" headers="ci">0.778</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="sex">Male</td>
<td class="gt_row gt_left" headers="grade">11th</td>
<td class="gt_row gt_center" headers="variable">bmi</td>
<td class="gt_row gt_right" headers="n">1704</td>
<td class="gt_row gt_right" headers="min">14.003</td>
<td class="gt_row gt_right" headers="max">53.947</td>
<td class="gt_row gt_right" headers="median">22.983</td>
<td class="gt_row gt_right" headers="iqr">5.585</td>
<td class="gt_row gt_right" headers="mean">24.129</td>
<td class="gt_row gt_right" headers="sd">4.973</td>
<td class="gt_row gt_right" headers="se">0.120</td>
<td class="gt_row gt_right" headers="ci">0.236</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="sex">Male</td>
<td class="gt_row gt_left" headers="grade">11th</td>
<td class="gt_row gt_center" headers="variable">stweight</td>
<td class="gt_row gt_right" headers="n">1704</td>
<td class="gt_row gt_right" headers="min">40.820</td>
<td class="gt_row gt_right" headers="max">172.370</td>
<td class="gt_row gt_right" headers="median">70.760</td>
<td class="gt_row gt_right" headers="iqr">20.420</td>
<td class="gt_row gt_right" headers="mean">75.238</td>
<td class="gt_row gt_right" headers="sd">17.158</td>
<td class="gt_row gt_right" headers="se">0.416</td>
<td class="gt_row gt_right" headers="ci">0.815</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="sex">Male</td>
<td class="gt_row gt_left" headers="grade">12th</td>
<td class="gt_row gt_center" headers="variable">bmi</td>
<td class="gt_row gt_right" headers="n">1611</td>
<td class="gt_row gt_right" headers="min">14.397</td>
<td class="gt_row gt_right" headers="max">52.284</td>
<td class="gt_row gt_right" headers="median">23.102</td>
<td class="gt_row gt_right" headers="iqr">5.789</td>
<td class="gt_row gt_right" headers="mean">24.470</td>
<td class="gt_row gt_right" headers="sd">5.150</td>
<td class="gt_row gt_right" headers="se">0.128</td>
<td class="gt_row gt_right" headers="ci">0.252</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="sex">Male</td>
<td class="gt_row gt_left" headers="grade">12th</td>
<td class="gt_row gt_center" headers="variable">stweight</td>
<td class="gt_row gt_right" headers="n">1611</td>
<td class="gt_row gt_right" headers="min">43.090</td>
<td class="gt_row gt_right" headers="max">180.990</td>
<td class="gt_row gt_right" headers="median">72.580</td>
<td class="gt_row gt_right" headers="iqr">20.410</td>
<td class="gt_row gt_right" headers="mean">76.900</td>
<td class="gt_row gt_right" headers="sd">17.918</td>
<td class="gt_row gt_right" headers="se">0.446</td>
<td class="gt_row gt_right" headers="ci">0.876</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="sex">Male</td>
<td class="gt_row gt_left" headers="grade">9th</td>
<td class="gt_row gt_center" headers="variable">bmi</td>
<td class="gt_row gt_right" headers="n">1773</td>
<td class="gt_row gt_right" headers="min">13.194</td>
<td class="gt_row gt_right" headers="max">52.882</td>
<td class="gt_row gt_right" headers="median">21.671</td>
<td class="gt_row gt_right" headers="iqr">5.579</td>
<td class="gt_row gt_right" headers="mean">22.809</td>
<td class="gt_row gt_right" headers="sd">4.883</td>
<td class="gt_row gt_right" headers="se">0.116</td>
<td class="gt_row gt_right" headers="ci">0.227</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="sex">Male</td>
<td class="gt_row gt_left" headers="grade">9th</td>
<td class="gt_row gt_center" headers="variable">stweight</td>
<td class="gt_row gt_right" headers="n">1761</td>
<td class="gt_row gt_right" headers="min">35.830</td>
<td class="gt_row gt_right" headers="max">180.990</td>
<td class="gt_row gt_right" headers="median">65.770</td>
<td class="gt_row gt_right" headers="iqr">19.050</td>
<td class="gt_row gt_right" headers="mean">68.180</td>
<td class="gt_row gt_right" headers="sd">16.426</td>
<td class="gt_row gt_right" headers="se">0.391</td>
<td class="gt_row gt_right" headers="ci">0.768</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="sex">Male</td>
<td class="gt_row gt_left" headers="grade">NA</td>
<td class="gt_row gt_center" headers="variable">bmi</td>
<td class="gt_row gt_right" headers="n">93</td>
<td class="gt_row gt_right" headers="min">13.896</td>
<td class="gt_row gt_right" headers="max">53.432</td>
<td class="gt_row gt_right" headers="median">21.698</td>
<td class="gt_row gt_right" headers="iqr">5.862</td>
<td class="gt_row gt_right" headers="mean">23.744</td>
<td class="gt_row gt_right" headers="sd">6.827</td>
<td class="gt_row gt_right" headers="se">0.708</td>
<td class="gt_row gt_right" headers="ci">1.406</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="sex">Male</td>
<td class="gt_row gt_left" headers="grade">NA</td>
<td class="gt_row gt_center" headers="variable">stweight</td>
<td class="gt_row gt_right" headers="n">91</td>
<td class="gt_row gt_right" headers="min">35.380</td>
<td class="gt_row gt_right" headers="max">167.380</td>
<td class="gt_row gt_right" headers="median">68.950</td>
<td class="gt_row gt_right" headers="iqr">19.955</td>
<td class="gt_row gt_right" headers="mean">73.075</td>
<td class="gt_row gt_right" headers="sd">21.634</td>
<td class="gt_row gt_right" headers="se">2.268</td>
<td class="gt_row gt_right" headers="ci">4.505</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="advanced-examples-using-summarize-function" class="slide level2">
<h2>Advanced examples using <code>summarize</code> function</h2>
<p>&nbsp;</p>
<p>Below are links to data summary examples in our previous OCTRI-BERD workshop on <em>Introduction to R and RStudio for Exploratory Data Analysis: Part 2</em> using the function <code>summarize()</code>:</p>
<ul>
<li><a href="https://jminnier-berd-r-courses.netlify.app/01-intro-r-eda/01_intro_r_eda_part2.html#6">Summarize examples: Slides 6 - 12</a></li>
<li>All slides:
<ul>
<li>html slides: <a href="http://bit.ly/berd_intro_part2">bit.ly/berd_intro_part2</a></li>
<li>pdf slides: <a href="http://bit.ly/berd_intro_part2_pdf">bit.ly/berd_intro_part2_pdf</a></li>
</ul></li>
</ul>
</section></section>
<section>
<section id="summarizing-categorical-data-frequency-tables" class="title-slide slide level1 center">
<h1>Summarizing categorical data: frequency tables</h1>
<ul>
<li>We will be creating frequency tables using the <strong><code>tabyl</code> function from the <code>janitor</code> package</strong> (loaded above).</li>
</ul>
</section>
<section id="frequency-table-for-one-variable" class="slide level2">
<h2>Frequency table for one variable</h2>
<p>Default table:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span> </span>
<span id="cb31-2"><a href=""></a>  <span class="fu">tabyl</span>(age)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                     age    n percent valid_percent
 12 years old or younger  137 0.00685    0.00692094
            13 years old   96 0.00480    0.00484971
            14 years old 2026 0.10130    0.10234908
            15 years old 4290 0.21450    0.21672139
            16 years old 4924 0.24620    0.24874968
            17 years old 4988 0.24940    0.25198282
   18 years old or older 3334 0.16670    0.16842637
                    &lt;NA&gt;  205 0.01025            NA</code></pre>
</div>
</div>
<p>Make the output prettier using <code>adorn_</code> options and adding on <code>gt()</code>:</p>
<div class="columns">
<div class="column" style="width:50%;">
<p>With adornments:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span> </span>
<span id="cb33-2"><a href=""></a>  <span class="fu">tabyl</span>(age)   <span class="sc">%&gt;%</span></span>
<span id="cb33-3"><a href=""></a>  <span class="fu">adorn_totals</span>(<span class="st">"row"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb33-4"><a href=""></a>  <span class="fu">adorn_pct_formatting</span>(<span class="at">digits=</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                     age     n percent valid_percent
 12 years old or younger   137   0.69%         0.69%
            13 years old    96   0.48%         0.48%
            14 years old  2026  10.13%        10.23%
            15 years old  4290  21.45%        21.67%
            16 years old  4924  24.62%        24.87%
            17 years old  4988  24.94%        25.20%
   18 years old or older  3334  16.67%        16.84%
                    &lt;NA&gt;   205   1.03%             -
                   Total 20000 100.00%       100.00%</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<p>With adornments &amp; <code>gt()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span> </span>
<span id="cb35-2"><a href=""></a>  <span class="fu">tabyl</span>(age)   <span class="sc">%&gt;%</span></span>
<span id="cb35-3"><a href=""></a>  <span class="fu">adorn_totals</span>(<span class="st">"row"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb35-4"><a href=""></a>  <span class="fu">adorn_pct_formatting</span>(<span class="at">digits=</span><span class="dv">2</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb35-5"><a href=""></a>  <span class="fu">gt</span>() <span class="co"># from the gt package</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="thiegemjsa" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#thiegemjsa table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#thiegemjsa thead, #thiegemjsa tbody, #thiegemjsa tfoot, #thiegemjsa tr, #thiegemjsa td, #thiegemjsa th {
  border-style: none;
}

#thiegemjsa p {
  margin: 0;
  padding: 0;
}

#thiegemjsa .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#thiegemjsa .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#thiegemjsa .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#thiegemjsa .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#thiegemjsa .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#thiegemjsa .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#thiegemjsa .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#thiegemjsa .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#thiegemjsa .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#thiegemjsa .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#thiegemjsa .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#thiegemjsa .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#thiegemjsa .gt_spanner_row {
  border-bottom-style: hidden;
}

#thiegemjsa .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#thiegemjsa .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#thiegemjsa .gt_from_md > :first-child {
  margin-top: 0;
}

#thiegemjsa .gt_from_md > :last-child {
  margin-bottom: 0;
}

#thiegemjsa .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#thiegemjsa .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#thiegemjsa .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#thiegemjsa .gt_row_group_first td {
  border-top-width: 2px;
}

#thiegemjsa .gt_row_group_first th {
  border-top-width: 2px;
}

#thiegemjsa .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#thiegemjsa .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#thiegemjsa .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#thiegemjsa .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#thiegemjsa .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#thiegemjsa .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#thiegemjsa .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#thiegemjsa .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#thiegemjsa .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#thiegemjsa .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#thiegemjsa .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#thiegemjsa .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#thiegemjsa .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#thiegemjsa .gt_left {
  text-align: left;
}

#thiegemjsa .gt_center {
  text-align: center;
}

#thiegemjsa .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#thiegemjsa .gt_font_normal {
  font-weight: normal;
}

#thiegemjsa .gt_font_bold {
  font-weight: bold;
}

#thiegemjsa .gt_font_italic {
  font-style: italic;
}

#thiegemjsa .gt_super {
  font-size: 65%;
}

#thiegemjsa .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#thiegemjsa .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#thiegemjsa .gt_indent_1 {
  text-indent: 5px;
}

#thiegemjsa .gt_indent_2 {
  text-indent: 10px;
}

#thiegemjsa .gt_indent_3 {
  text-indent: 15px;
}

#thiegemjsa .gt_indent_4 {
  text-indent: 20px;
}

#thiegemjsa .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table caption-top" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="age" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">age</th>
<th id="n" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">n</th>
<th id="percent" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">percent</th>
<th id="valid_percent" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">valid_percent</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="age">12 years old or younger</td>
<td class="gt_row gt_right" headers="n">137</td>
<td class="gt_row gt_right" headers="percent">0.69%</td>
<td class="gt_row gt_right" headers="valid_percent">0.69%</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="age">13 years old</td>
<td class="gt_row gt_right" headers="n">96</td>
<td class="gt_row gt_right" headers="percent">0.48%</td>
<td class="gt_row gt_right" headers="valid_percent">0.48%</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="age">14 years old</td>
<td class="gt_row gt_right" headers="n">2026</td>
<td class="gt_row gt_right" headers="percent">10.13%</td>
<td class="gt_row gt_right" headers="valid_percent">10.23%</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="age">15 years old</td>
<td class="gt_row gt_right" headers="n">4290</td>
<td class="gt_row gt_right" headers="percent">21.45%</td>
<td class="gt_row gt_right" headers="valid_percent">21.67%</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="age">16 years old</td>
<td class="gt_row gt_right" headers="n">4924</td>
<td class="gt_row gt_right" headers="percent">24.62%</td>
<td class="gt_row gt_right" headers="valid_percent">24.87%</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="age">17 years old</td>
<td class="gt_row gt_right" headers="n">4988</td>
<td class="gt_row gt_right" headers="percent">24.94%</td>
<td class="gt_row gt_right" headers="valid_percent">25.20%</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="age">18 years old or older</td>
<td class="gt_row gt_right" headers="n">3334</td>
<td class="gt_row gt_right" headers="percent">16.67%</td>
<td class="gt_row gt_right" headers="valid_percent">16.84%</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="age">NA</td>
<td class="gt_row gt_right" headers="n">205</td>
<td class="gt_row gt_right" headers="percent">1.03%</td>
<td class="gt_row gt_right" headers="valid_percent">-</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="age">Total</td>
<td class="gt_row gt_right" headers="n">20000</td>
<td class="gt_row gt_right" headers="percent">100.00%</td>
<td class="gt_row gt_right" headers="valid_percent">100.00%</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</div>
</section>
<section id="contingency-tables-two-way-tables" class="slide level2">
<h2>Contingency tables (two-way tables)</h2>
<ul>
<li><strong>Contingency tables</strong> summarize data for two categorical variables
<ul>
<li>with each value in the table representing the number of times<br>
a particular combination of outcomes occurs</li>
</ul></li>
<li><strong>Row &amp; column totals</strong> added with <code>adorn_totals</code> option
<ul>
<li>Can choose to include row and/or column totals</li>
</ul></li>
</ul>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href=""></a><span class="co"># ages vs. grades:</span></span>
<span id="cb36-2"><a href=""></a></span>
<span id="cb36-3"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span> </span>
<span id="cb36-4"><a href=""></a>  <span class="fu">tabyl</span>(age, grade) <span class="sc">%&gt;%</span>    </span>
<span id="cb36-5"><a href=""></a>  <span class="fu">adorn_totals</span>(<span class="fu">c</span>(<span class="st">"row"</span>, <span class="st">"col"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb36-6"><a href=""></a>  <span class="fu">adorn_title</span>(<span class="at">placement =</span> <span class="st">"combined"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb36-7"><a href=""></a>  <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output-display">
<div id="netmiockns" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#netmiockns table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#netmiockns thead, #netmiockns tbody, #netmiockns tfoot, #netmiockns tr, #netmiockns td, #netmiockns th {
  border-style: none;
}

#netmiockns p {
  margin: 0;
  padding: 0;
}

#netmiockns .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#netmiockns .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#netmiockns .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#netmiockns .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#netmiockns .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#netmiockns .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#netmiockns .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#netmiockns .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#netmiockns .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#netmiockns .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#netmiockns .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#netmiockns .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#netmiockns .gt_spanner_row {
  border-bottom-style: hidden;
}

#netmiockns .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#netmiockns .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#netmiockns .gt_from_md > :first-child {
  margin-top: 0;
}

#netmiockns .gt_from_md > :last-child {
  margin-bottom: 0;
}

#netmiockns .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#netmiockns .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#netmiockns .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#netmiockns .gt_row_group_first td {
  border-top-width: 2px;
}

#netmiockns .gt_row_group_first th {
  border-top-width: 2px;
}

#netmiockns .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#netmiockns .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#netmiockns .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#netmiockns .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#netmiockns .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#netmiockns .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#netmiockns .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#netmiockns .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#netmiockns .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#netmiockns .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#netmiockns .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#netmiockns .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#netmiockns .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#netmiockns .gt_left {
  text-align: left;
}

#netmiockns .gt_center {
  text-align: center;
}

#netmiockns .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#netmiockns .gt_font_normal {
  font-weight: normal;
}

#netmiockns .gt_font_bold {
  font-weight: bold;
}

#netmiockns .gt_font_italic {
  font-style: italic;
}

#netmiockns .gt_super {
  font-size: 65%;
}

#netmiockns .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#netmiockns .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#netmiockns .gt_indent_1 {
  text-indent: 5px;
}

#netmiockns .gt_indent_2 {
  text-indent: 10px;
}

#netmiockns .gt_indent_3 {
  text-indent: 15px;
}

#netmiockns .gt_indent_4 {
  text-indent: 20px;
}

#netmiockns .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table caption-top" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="age/grade" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">age/grade</th>
<th id="10th" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">10th</th>
<th id="11th" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">11th</th>
<th id="12th" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">12th</th>
<th id="9th" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">9th</th>
<th id="NA_" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">NA_</th>
<th id="Total" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Total</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="age/grade">12 years old or younger</td>
<td class="gt_row gt_right" headers="10th">9</td>
<td class="gt_row gt_right" headers="11th">21</td>
<td class="gt_row gt_right" headers="12th">35</td>
<td class="gt_row gt_right" headers="9th">31</td>
<td class="gt_row gt_right" headers="NA_">41</td>
<td class="gt_row gt_right" headers="Total">137</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="age/grade">13 years old</td>
<td class="gt_row gt_right" headers="10th">6</td>
<td class="gt_row gt_right" headers="11th">2</td>
<td class="gt_row gt_right" headers="12th">1</td>
<td class="gt_row gt_right" headers="9th">79</td>
<td class="gt_row gt_right" headers="NA_">8</td>
<td class="gt_row gt_right" headers="Total">96</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="age/grade">14 years old</td>
<td class="gt_row gt_right" headers="10th">65</td>
<td class="gt_row gt_right" headers="11th">8</td>
<td class="gt_row gt_right" headers="12th">6</td>
<td class="gt_row gt_right" headers="9th">1922</td>
<td class="gt_row gt_right" headers="NA_">25</td>
<td class="gt_row gt_right" headers="Total">2026</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="age/grade">15 years old</td>
<td class="gt_row gt_right" headers="10th">1909</td>
<td class="gt_row gt_right" headers="11th">104</td>
<td class="gt_row gt_right" headers="12th">22</td>
<td class="gt_row gt_right" headers="9th">2225</td>
<td class="gt_row gt_right" headers="NA_">30</td>
<td class="gt_row gt_right" headers="Total">4290</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="age/grade">16 years old</td>
<td class="gt_row gt_right" headers="10th">2102</td>
<td class="gt_row gt_right" headers="11th">1899</td>
<td class="gt_row gt_right" headers="12th">157</td>
<td class="gt_row gt_right" headers="9th">717</td>
<td class="gt_row gt_right" headers="NA_">49</td>
<td class="gt_row gt_right" headers="Total">4924</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="age/grade">17 years old</td>
<td class="gt_row gt_right" headers="10th">637</td>
<td class="gt_row gt_right" headers="11th">2178</td>
<td class="gt_row gt_right" headers="12th">1956</td>
<td class="gt_row gt_right" headers="9th">164</td>
<td class="gt_row gt_right" headers="NA_">53</td>
<td class="gt_row gt_right" headers="Total">4988</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="age/grade">18 years old or older</td>
<td class="gt_row gt_right" headers="10th">163</td>
<td class="gt_row gt_right" headers="11th">670</td>
<td class="gt_row gt_right" headers="12th">2373</td>
<td class="gt_row gt_right" headers="9th">60</td>
<td class="gt_row gt_right" headers="NA_">68</td>
<td class="gt_row gt_right" headers="Total">3334</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="age/grade">NA</td>
<td class="gt_row gt_right" headers="10th">16</td>
<td class="gt_row gt_right" headers="11th">9</td>
<td class="gt_row gt_right" headers="12th">27</td>
<td class="gt_row gt_right" headers="9th">21</td>
<td class="gt_row gt_right" headers="NA_">132</td>
<td class="gt_row gt_right" headers="Total">205</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="age/grade">Total</td>
<td class="gt_row gt_right" headers="10th">4907</td>
<td class="gt_row gt_right" headers="11th">4891</td>
<td class="gt_row gt_right" headers="12th">4577</td>
<td class="gt_row gt_right" headers="9th">5219</td>
<td class="gt_row gt_right" headers="NA_">406</td>
<td class="gt_row gt_right" headers="Total">20000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</section>
<section id="contingency-tables-with-percentages" class="slide level2">
<h2>Contingency tables with percentages</h2>
<ul>
<li>How are the percentages calculated in the code below?</li>
<li>What else was added to the table, other than the percentages?</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span> </span>
<span id="cb37-2"><a href=""></a>  <span class="fu">tabyl</span>(age, grade) <span class="sc">%&gt;%</span>    </span>
<span id="cb37-3"><a href=""></a>  <span class="fu">adorn_totals</span>(<span class="fu">c</span>(<span class="st">"row"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb37-4"><a href=""></a>  <span class="fu">adorn_percentages</span>(<span class="st">"row"</span>) <span class="sc">%&gt;%</span>   </span>
<span id="cb37-5"><a href=""></a>  <span class="fu">adorn_pct_formatting</span>(<span class="at">digits=</span><span class="dv">0</span>) <span class="sc">%&gt;%</span>    </span>
<span id="cb37-6"><a href=""></a>  <span class="fu">adorn_ns</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb37-7"><a href=""></a>  <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="bqsoxxlrmm" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#bqsoxxlrmm table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#bqsoxxlrmm thead, #bqsoxxlrmm tbody, #bqsoxxlrmm tfoot, #bqsoxxlrmm tr, #bqsoxxlrmm td, #bqsoxxlrmm th {
  border-style: none;
}

#bqsoxxlrmm p {
  margin: 0;
  padding: 0;
}

#bqsoxxlrmm .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#bqsoxxlrmm .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#bqsoxxlrmm .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#bqsoxxlrmm .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#bqsoxxlrmm .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#bqsoxxlrmm .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bqsoxxlrmm .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#bqsoxxlrmm .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#bqsoxxlrmm .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#bqsoxxlrmm .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#bqsoxxlrmm .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#bqsoxxlrmm .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#bqsoxxlrmm .gt_spanner_row {
  border-bottom-style: hidden;
}

#bqsoxxlrmm .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#bqsoxxlrmm .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#bqsoxxlrmm .gt_from_md > :first-child {
  margin-top: 0;
}

#bqsoxxlrmm .gt_from_md > :last-child {
  margin-bottom: 0;
}

#bqsoxxlrmm .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#bqsoxxlrmm .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#bqsoxxlrmm .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#bqsoxxlrmm .gt_row_group_first td {
  border-top-width: 2px;
}

#bqsoxxlrmm .gt_row_group_first th {
  border-top-width: 2px;
}

#bqsoxxlrmm .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#bqsoxxlrmm .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#bqsoxxlrmm .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#bqsoxxlrmm .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bqsoxxlrmm .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#bqsoxxlrmm .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#bqsoxxlrmm .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#bqsoxxlrmm .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#bqsoxxlrmm .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bqsoxxlrmm .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#bqsoxxlrmm .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#bqsoxxlrmm .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#bqsoxxlrmm .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#bqsoxxlrmm .gt_left {
  text-align: left;
}

#bqsoxxlrmm .gt_center {
  text-align: center;
}

#bqsoxxlrmm .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#bqsoxxlrmm .gt_font_normal {
  font-weight: normal;
}

#bqsoxxlrmm .gt_font_bold {
  font-weight: bold;
}

#bqsoxxlrmm .gt_font_italic {
  font-style: italic;
}

#bqsoxxlrmm .gt_super {
  font-size: 65%;
}

#bqsoxxlrmm .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#bqsoxxlrmm .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#bqsoxxlrmm .gt_indent_1 {
  text-indent: 5px;
}

#bqsoxxlrmm .gt_indent_2 {
  text-indent: 10px;
}

#bqsoxxlrmm .gt_indent_3 {
  text-indent: 15px;
}

#bqsoxxlrmm .gt_indent_4 {
  text-indent: 20px;
}

#bqsoxxlrmm .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table caption-top" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="age" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">age</th>
<th id="10th" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">10th</th>
<th id="11th" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">11th</th>
<th id="12th" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">12th</th>
<th id="9th" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">9th</th>
<th id="NA_" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">NA_</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="age">12 years old or younger</td>
<td class="gt_row gt_right" headers="10th">7% (9)</td>
<td class="gt_row gt_right" headers="11th">15% (21)</td>
<td class="gt_row gt_right" headers="12th">26% (35)</td>
<td class="gt_row gt_right" headers="9th">23% (31)</td>
<td class="gt_row gt_right" headers="NA_">30% (41)</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="age">13 years old</td>
<td class="gt_row gt_right" headers="10th">6% (6)</td>
<td class="gt_row gt_right" headers="11th">2% (2)</td>
<td class="gt_row gt_right" headers="12th">1% (1)</td>
<td class="gt_row gt_right" headers="9th">82% (79)</td>
<td class="gt_row gt_right" headers="NA_">8% (8)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="age">14 years old</td>
<td class="gt_row gt_right" headers="10th">3% (65)</td>
<td class="gt_row gt_right" headers="11th">0% (8)</td>
<td class="gt_row gt_right" headers="12th">0% (6)</td>
<td class="gt_row gt_right" headers="9th">95% (1,922)</td>
<td class="gt_row gt_right" headers="NA_">1% (25)</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="age">15 years old</td>
<td class="gt_row gt_right" headers="10th">44% (1,909)</td>
<td class="gt_row gt_right" headers="11th">2% (104)</td>
<td class="gt_row gt_right" headers="12th">1% (22)</td>
<td class="gt_row gt_right" headers="9th">52% (2,225)</td>
<td class="gt_row gt_right" headers="NA_">1% (30)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="age">16 years old</td>
<td class="gt_row gt_right" headers="10th">43% (2,102)</td>
<td class="gt_row gt_right" headers="11th">39% (1,899)</td>
<td class="gt_row gt_right" headers="12th">3% (157)</td>
<td class="gt_row gt_right" headers="9th">15% (717)</td>
<td class="gt_row gt_right" headers="NA_">1% (49)</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="age">17 years old</td>
<td class="gt_row gt_right" headers="10th">13% (637)</td>
<td class="gt_row gt_right" headers="11th">44% (2,178)</td>
<td class="gt_row gt_right" headers="12th">39% (1,956)</td>
<td class="gt_row gt_right" headers="9th">3% (164)</td>
<td class="gt_row gt_right" headers="NA_">1% (53)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="age">18 years old or older</td>
<td class="gt_row gt_right" headers="10th">5% (163)</td>
<td class="gt_row gt_right" headers="11th">20% (670)</td>
<td class="gt_row gt_right" headers="12th">71% (2,373)</td>
<td class="gt_row gt_right" headers="9th">2% (60)</td>
<td class="gt_row gt_right" headers="NA_">2% (68)</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="age">NA</td>
<td class="gt_row gt_right" headers="10th">8% (16)</td>
<td class="gt_row gt_right" headers="11th">4% (9)</td>
<td class="gt_row gt_right" headers="12th">13% (27)</td>
<td class="gt_row gt_right" headers="9th">10% (21)</td>
<td class="gt_row gt_right" headers="NA_">64% (132)</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="age">Total</td>
<td class="gt_row gt_right" headers="10th">25% (4,907)</td>
<td class="gt_row gt_right" headers="11th">24% (4,891)</td>
<td class="gt_row gt_right" headers="12th">23% (4,577)</td>
<td class="gt_row gt_right" headers="9th">26% (5,219)</td>
<td class="gt_row gt_right" headers="NA_">2% (406)</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="stratified-3-way-tables" class="slide level2">
<h2>Stratified (3-way) tables</h2>
<p>We can also add a third variable, which creates 2x2 tables stratified by the third variable:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span> </span>
<span id="cb38-2"><a href=""></a>  <span class="fu">tabyl</span>(age, grade, sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$Female
                     age 10th 11th 12th  9th NA_
 12 years old or younger    3    5   14   15  21
            13 years old    0    2    0   40   1
            14 years old   30    4    2  963   8
            15 years old  961   53   11 1070   9
            16 years old 1016  957   81  311  13
            17 years old  261 1055 1044   66  21
   18 years old or older   57  285 1114   19  29
                    &lt;NA&gt;    4    4   11    8  24

$Male
                     age 10th 11th 12th  9th NA_
 12 years old or younger    6   16   20   16  18
            13 years old    4    0    1   38   6
            14 years old   34    4    4  950  14
            15 years old  942   51   10 1136  20
            16 years old 1067  936   76  395  32
            17 years old  369 1106  896   98  30
   18 years old or older  105  379 1242   40  35
                    &lt;NA&gt;   12    4   14   11  40

$NA_
                     age 10th 11th 12th 9th NA_
 12 years old or younger    0    0    1   0   2
            13 years old    2    0    0   1   1
            14 years old    1    0    0   9   3
            15 years old    6    0    1  19   1
            16 years old   19    6    0  11   4
            17 years old    7   17   16   0   2
   18 years old or older    1    6   17   1   4
                    &lt;NA&gt;    0    1    2   2  68</code></pre>
</div>
</div>
<p><em>Make sure to scroll down in the output box above to see all of the output</em></p>
</section>
<section id="more-tabyl-and-adorn_-options" class="slide level2">
<h2>More <code>tabyl</code> and <code>adorn_</code> options</h2>
<p>&nbsp;</p>
<div style="font-size: 110%;">
<p>See the <a href="https://cran.r-project.org/web/packages/janitor/vignettes/tabyls.html"><code>tabyl</code>s vignette</a> for more <code>tabyl</code> and <code>adorn_</code> options:</p>
<p><a href="https://cran.r-project.org/web/packages/janitor/vignettes/tabyls.html" class="uri">https://cran.r-project.org/web/packages/janitor/vignettes/tabyls.html</a></p>
</div>
</section></section>
<section id="practice-time-part-2" class="title-slide slide level1 center scrollable">
<h1>Practice time! (part 2)</h1>
<ol type="1">
<li>Create a contingency table for <code>race4</code> and <code>race7</code>, with both percentages and counts. What is the difference between these two variables?</li>
<li>Create a contingency table for <code>race4</code> and <code>race7</code>, with both percentages and counts, stratified by <code>grade</code>.</li>
<li>Calculate the minimum, median, and maximum BMI and weights of participants in the YRBSS data.</li>
<li>Calculate the minimum, median, and maximum BMI and weights of the participants in the YRBSS data, now stratified by age.</li>
</ol>
</section>

<section id="data-visualization" class="title-slide slide level1 center">
<h1>Data visualization</h1>
<ul>
<li>This is a <em>very brief</em> introduction to creating plots using the <code>ggplot2</code> package.
<ul>
<li>The <code>ggplot2</code> package gets loaded with the <code>tidyverse</code> and thus we do not need to load it separately.</li>
</ul></li>
</ul>
<div class="columns">
<div class="column" style="width:40%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="image/ggplotlogo.png" height="400"></p>
<figcaption><a href="https://ggplot2.tidyverse.org/index.html">ggplot</a></figcaption>
</figure>
</div>
</div><div class="column" style="width:60%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="image/ggplot2_masterpiece.png" height="400"></p>
<figcaption><a href="https://allisonhorst.com/">Artwork by @allison_horst</a></figcaption>
</figure>
</div>
</div>
</div>
</section>

<section>
<section id="visualizing-quantitative-variables" class="title-slide slide level1 center">
<h1>Visualizing quantitative variables</h1>
<ul>
<li>What is the distribution shape of a quantitative variable?</li>
<li>Does the distribution shape of a quantitative variable change when stratified by a categorical variable?</li>
<li>Is there an association between two quantitative variables?</li>
</ul>
</section>
<section id="histograms" class="slide level2">
<h2>Histograms</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href=""></a><span class="fu">ggplot</span>(<span class="at">data =</span> yrbss_data,    <span class="co"># specify the dataset</span></span>
<span id="cb40-2"><a href=""></a>       <span class="co"># aes = aesthetics: specify variables being used</span></span>
<span id="cb40-3"><a href=""></a>       <span class="fu">aes</span>(<span class="at">x =</span> bmi)) <span class="sc">+</span>  </span>
<span id="cb40-4"><a href=""></a>  <span class="fu">geom_histogram</span>() <span class="co"># type of plot</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_R_berd_2024_files/figure-revealjs/unnamed-chunk-28-1.png" width="960" class="r-stretch"></section>
<section id="boxplots" class="slide level2">
<h2>Boxplots</h2>
<ul>
<li>Recall that the whiskers’ ends are the minimum and maximum values</li>
<li>The box is from the first to third quartiles, with the line inside the box at the median</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>BMI</strong>:<br>
horizontal boxplot (specify <code>x = ...</code>)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href=""></a><span class="fu">ggplot</span>(<span class="at">data =</span> yrbss_data,   <span class="co"># dataset</span></span>
<span id="cb41-2"><a href=""></a>  <span class="co"># aes: specify vars being used</span></span>
<span id="cb41-3"><a href=""></a>       <span class="fu">aes</span>(<span class="at">x =</span> bmi)) <span class="sc">+</span>   </span>
<span id="cb41-4"><a href=""></a>  <span class="fu">geom_boxplot</span>()   <span class="co"># type of plot</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="slides_R_berd_2024_files/figure-revealjs/unnamed-chunk-29-1.png" width="480"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<p><strong>Weight</strong>: vertical boxplot (specify <code>y = ...</code>)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href=""></a><span class="fu">ggplot</span>(<span class="at">data =</span> yrbss_data, </span>
<span id="cb42-2"><a href=""></a><span class="co"># use y instead of x in aes for vertical:</span></span>
<span id="cb42-3"><a href=""></a>  <span class="fu">aes</span>(<span class="at">y =</span> stweight)) <span class="sc">+</span> </span>
<span id="cb42-4"><a href=""></a>  <span class="fu">geom_boxplot</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="slides_R_berd_2024_files/figure-revealjs/unnamed-chunk-30-1.png" width="480"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="stratified-boxplots-plus-axis-labels-title" class="slide level2">
<h2>Stratified boxplots (plus axis labels &amp; title!)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href=""></a><span class="fu">ggplot</span>(<span class="at">data =</span> yrbss_data, </span>
<span id="cb43-2"><a href=""></a>       <span class="fu">aes</span>(</span>
<span id="cb43-3"><a href=""></a>         <span class="co"># horizontal boxplots for BMI (x=):</span></span>
<span id="cb43-4"><a href=""></a>         <span class="at">x =</span> bmi,</span>
<span id="cb43-5"><a href=""></a>         <span class="co"># stratified vertically (y=) by age:</span></span>
<span id="cb43-6"><a href=""></a>         <span class="at">y =</span> age</span>
<span id="cb43-7"><a href=""></a>         )) <span class="sc">+</span> </span>
<span id="cb43-8"><a href=""></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span> </span>
<span id="cb43-9"><a href=""></a>  <span class="co"># Add on labels and a title:</span></span>
<span id="cb43-10"><a href=""></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"BMI"</span>, </span>
<span id="cb43-11"><a href=""></a>       <span class="at">y =</span> <span class="st">"Age"</span>, </span>
<span id="cb43-12"><a href=""></a>       <span class="at">title =</span>  <span class="st">"BMI distributions by age category"</span></span>
<span id="cb43-13"><a href=""></a>       )  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_R_berd_2024_files/figure-revealjs/unnamed-chunk-31-1.png" width="960" class="r-stretch"></section>
<section id="add-color-using-fill" class="slide level2">
<h2>Add color using <code>fill</code></h2>
<ul>
<li>Also remove the <code>NA</code> category with <code>drop_na()</code> (we will talk about this in later slides)</li>
<li>What’s the difference in use of <code>fill=</code> here?</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href=""></a><span class="fu">ggplot</span>(</span>
<span id="cb44-2"><a href=""></a>  <span class="at">data =</span> yrbss_data <span class="sc">%&gt;%</span> <span class="fu">drop_na</span>(age), <span class="co">#NEW!</span></span>
<span id="cb44-3"><a href=""></a>  <span class="fu">aes</span>(</span>
<span id="cb44-4"><a href=""></a>    <span class="at">x =</span> bmi,</span>
<span id="cb44-5"><a href=""></a>    <span class="at">y =</span> age,</span>
<span id="cb44-6"><a href=""></a>    <span class="at">fill =</span> age  <span class="co"># NEW!</span></span>
<span id="cb44-7"><a href=""></a>  )) <span class="sc">+</span> </span>
<span id="cb44-8"><a href=""></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb44-9"><a href=""></a>  <span class="co"># remove legend:</span></span>
<span id="cb44-10"><a href=""></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">"none"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="slides_R_berd_2024_files/figure-revealjs/unnamed-chunk-32-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href=""></a><span class="fu">ggplot</span>(</span>
<span id="cb45-2"><a href=""></a>  <span class="at">data =</span> yrbss_data <span class="sc">%&gt;%</span> <span class="fu">drop_na</span>(age), <span class="co">#NEW!</span></span>
<span id="cb45-3"><a href=""></a>  <span class="fu">aes</span>(</span>
<span id="cb45-4"><a href=""></a>    <span class="at">x =</span> bmi,</span>
<span id="cb45-5"><a href=""></a>    <span class="at">y =</span> age,</span>
<span id="cb45-6"><a href=""></a>    <span class="at">fill =</span> sex  <span class="co"># NEW!</span></span>
<span id="cb45-7"><a href=""></a>  )) <span class="sc">+</span> </span>
<span id="cb45-8"><a href=""></a>  <span class="fu">geom_boxplot</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="slides_R_berd_2024_files/figure-revealjs/unnamed-chunk-33-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="scatterplots" class="slide level2">
<h2>Scatterplots</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href=""></a><span class="fu">ggplot</span>(<span class="at">data =</span> yrbss_data, <span class="co"># specify the dataset</span></span>
<span id="cb46-2"><a href=""></a>       <span class="co"># aes = aesthetics: specify variables being used</span></span>
<span id="cb46-3"><a href=""></a>       <span class="fu">aes</span>(<span class="at">x =</span> stweight,       </span>
<span id="cb46-4"><a href=""></a>           <span class="at">y =</span> bmi</span>
<span id="cb46-5"><a href=""></a>           )) <span class="sc">+</span>  </span>
<span id="cb46-6"><a href=""></a>  <span class="fu">geom_point</span>()    <span class="co"># type of plot     </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_R_berd_2024_files/figure-revealjs/unnamed-chunk-34-1.png" width="960" class="r-stretch"></section>
<section id="scatterplot-with-color-coded-dots" class="slide level2">
<h2>Scatterplot with color-coded dots</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href=""></a><span class="fu">ggplot</span>(<span class="at">data =</span> yrbss_data, </span>
<span id="cb47-2"><a href=""></a>       <span class="co"># aes = aesthetics: specify variables being used</span></span>
<span id="cb47-3"><a href=""></a>       <span class="fu">aes</span>(<span class="at">x =</span> stweight,      </span>
<span id="cb47-4"><a href=""></a>           <span class="at">y =</span> bmi,  </span>
<span id="cb47-5"><a href=""></a>           <span class="at">color =</span> sex,</span>
<span id="cb47-6"><a href=""></a>           )) <span class="sc">+</span>   </span>
<span id="cb47-7"><a href=""></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">2</span>) <span class="co"># alpha controls transparency of the points</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_R_berd_2024_files/figure-revealjs/unnamed-chunk-35-1.png" width="960" class="r-stretch"></section>
<section id="color-vs.-fill-vs.-alpha" class="slide level2">
<h2>Color vs.&nbsp;fill vs.&nbsp;alpha</h2>
<p>&nbsp;</p>
<div style="font-size: 110%;">
<ul>
<li><code>color</code> (or <code>colour</code>) is used for lines and outlines</li>
<li><code>fill</code> is used for interiors</li>
<li>Note: geom_point() shape default is a point with only an outline and no interior -&gt; <em>we used color and not fill</em></li>
</ul>
<p>&nbsp;</p>
<ul>
<li><code>alpha</code> specifies the opacity / transparency
<ul>
<li>Values range from 0 to 1</li>
<li>lower alphas are more transparent</li>
</ul></li>
</ul>
<p>&nbsp;</p>
<ul>
<li>See ggplot webpage <a href="https://ggplot2.tidyverse.org/reference/aes_colour_fill_alpha.html">Colour related aesthetics: colour, fill, and alpha</a> for more information</li>
</ul>
</div>
</section></section>
<section>
<section id="visualizing-categorical-variables" class="title-slide slide level1 center">
<h1>Visualizing categorical variables</h1>

</section>
<section id="barplots" class="slide level2">
<h2>Barplots</h2>
<p>By default, barplots display counts (frequencies) on the vertical axis:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href=""></a><span class="fu">ggplot</span>(<span class="at">data =</span> yrbss_data, </span>
<span id="cb48-2"><a href=""></a>       <span class="fu">aes</span>(<span class="at">x =</span> age)) <span class="sc">+</span></span>
<span id="cb48-3"><a href=""></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span> <span class="co"># plot type </span></span>
<span id="cb48-4"><a href=""></a>  <span class="co"># angle the x-axis labels so that they are not overlapping</span></span>
<span id="cb48-5"><a href=""></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="sc">-</span><span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">0</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_R_berd_2024_files/figure-revealjs/unnamed-chunk-36-1.png" width="960" class="r-stretch"></section>
<section id="barplots-with-proportions" class="slide level2">
<h2>Barplots with proportions</h2>
<p>* To show proportions, the code is more complicated.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href=""></a><span class="fu">ggplot</span>(<span class="at">data =</span> yrbss_data, </span>
<span id="cb49-2"><a href=""></a>       <span class="fu">aes</span>(<span class="at">x =</span> age)) <span class="sc">+</span></span>
<span id="cb49-3"><a href=""></a>  <span class="co"># specify aesthetics within the barplot to show proportions</span></span>
<span id="cb49-4"><a href=""></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">y =</span> <span class="fu">after_stat</span>(prop), <span class="at">group =</span> <span class="dv">1</span>)) <span class="sc">+</span> </span>
<span id="cb49-5"><a href=""></a>  </span>
<span id="cb49-6"><a href=""></a>  <span class="co"># Next line converts y-axis labels to percentages instead of proportions</span></span>
<span id="cb49-7"><a href=""></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span>  scales<span class="sc">::</span><span class="fu">percent_format</span>()) <span class="sc">+</span></span>
<span id="cb49-8"><a href=""></a>  </span>
<span id="cb49-9"><a href=""></a>  <span class="co"># "dodge" the x-axis labels</span></span>
<span id="cb49-10"><a href=""></a>  <span class="fu">scale_x_discrete</span>(<span class="at">guide =</span> <span class="fu">guide_axis</span>(<span class="at">n.dodge =</span> <span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_R_berd_2024_files/figure-revealjs/unnamed-chunk-37-1.png" width="960" class="r-stretch"></section>
<section id="barplots-with-2-variables-segmented-bar-plots" class="slide level2">
<h2>Barplots with 2 variables: segmented bar plots</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>Stacked bars showing counts:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href=""></a><span class="fu">ggplot</span>(<span class="at">data =</span> yrbss_data, </span>
<span id="cb50-2"><a href=""></a>       <span class="fu">aes</span>(<span class="at">x =</span> age,</span>
<span id="cb50-3"><a href=""></a>           <span class="co"># specify variable for colors </span></span>
<span id="cb50-4"><a href=""></a>           <span class="at">fill =</span> grade)) <span class="sc">+</span> </span>
<span id="cb50-5"><a href=""></a>  <span class="fu">geom_bar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="slides_R_berd_2024_files/figure-revealjs/unnamed-chunk-38-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<p>For proportions within each bar:<br>
(added <code>position = "fill"</code> within <code>geom_bar()</code>)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href=""></a><span class="fu">ggplot</span>(<span class="at">data =</span> yrbss_data, </span>
<span id="cb51-2"><a href=""></a>       <span class="fu">aes</span>(<span class="at">x =</span> age,</span>
<span id="cb51-3"><a href=""></a>           <span class="co"># specify variable for colors</span></span>
<span id="cb51-4"><a href=""></a>           <span class="at">fill =</span> grade)) <span class="sc">+</span> </span>
<span id="cb51-5"><a href=""></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"fill"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="slides_R_berd_2024_files/figure-revealjs/unnamed-chunk-39-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="side-by-side-barplots" class="slide level2">
<h2>Side-by-side barplots</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href=""></a><span class="fu">ggplot</span>(<span class="at">data =</span> yrbss_data, </span>
<span id="cb52-2"><a href=""></a>       <span class="fu">aes</span>(<span class="at">x =</span> age,</span>
<span id="cb52-3"><a href=""></a>           <span class="co"># specify variable for colors </span></span>
<span id="cb52-4"><a href=""></a>           <span class="at">fill =</span> grade)) <span class="sc">+</span> </span>
<span id="cb52-5"><a href=""></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb52-6"><a href=""></a>  <span class="co"># angle the x-axis labels so that they are not overlapping</span></span>
<span id="cb52-7"><a href=""></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="sc">-</span><span class="dv">15</span>, <span class="at">hjust =</span> <span class="dv">0</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_R_berd_2024_files/figure-revealjs/unnamed-chunk-40-1.png" width="960" class="r-stretch"></section>
<section id="saving-a-ggplot-as-an-image-file" class="slide level2">
<h2>Saving a ggplot as an image file</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>First, create a plot and save it as an R object:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href=""></a>myplot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> yrbss_data, </span>
<span id="cb53-2"><a href=""></a>       <span class="fu">aes</span>(<span class="at">x =</span> age,</span>
<span id="cb53-3"><a href=""></a>           <span class="co"># specify variable for colors </span></span>
<span id="cb53-4"><a href=""></a>           <span class="at">fill =</span> grade)) <span class="sc">+</span> </span>
<span id="cb53-5"><a href=""></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb53-6"><a href=""></a>  <span class="co"># angle the x-axis labels so that they are not overlapping</span></span>
<span id="cb53-7"><a href=""></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="sc">-</span><span class="dv">15</span>, <span class="at">hjust =</span> <span class="dv">0</span>))</span>
<span id="cb53-8"><a href=""></a></span>
<span id="cb53-9"><a href=""></a>myplot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="slides_R_berd_2024_files/figure-revealjs/unnamed-chunk-41-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<p>Save the plot as a pdf (or “jpeg”, “tiff”, “png”, etc.)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href=""></a><span class="fu">ggsave</span>(</span>
<span id="cb54-2"><a href=""></a>  <span class="at">filename =</span> <span class="st">"output/myplot.pdf"</span>,</span>
<span id="cb54-3"><a href=""></a>  <span class="at">plot =</span> myplot,</span>
<span id="cb54-4"><a href=""></a>  <span class="at">device =</span> <span class="st">"pdf"</span>,</span>
<span id="cb54-5"><a href=""></a>  <span class="at">width =</span> <span class="dv">5</span>,</span>
<span id="cb54-6"><a href=""></a>  <span class="at">height =</span> <span class="dv">3</span>,</span>
<span id="cb54-7"><a href=""></a>  <span class="at">units =</span> <span class="st">"in"</span>,</span>
<span id="cb54-8"><a href=""></a>  <span class="at">dpi =</span> <span class="dv">200</span>)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Can specify the dpi when saving, many journals have dpi requirements.</p>
<p>See <code>ggsave</code> webpage for more details:</p>
<div style="font-size: 75%;">
<p><a href="https://ggplot2.tidyverse.org/reference/ggsave.html" class="uri">https://ggplot2.tidyverse.org/reference/ggsave.html</a></p>
</div>
</div>
</div>
</section>
<section id="more-ggplot-topics" class="slide level2">
<h2>* More ggplot topics</h2>
<p>&nbsp;</p>
<ul>
<li>Change the <a href="https://ggplot2-book.org/themes"><strong>theme</strong></a> of the plot
<ul>
<li>This includes the color scheme, text font and size, and other options.</li>
<li>There are many existing themes to choose from.</li>
</ul></li>
</ul>
<p>&nbsp;</p>
<ul>
<li>Arrange multiple plots as one
<ul>
<li><a href="https://patchwork.data-imaginist.com/">patchwork</a> package</li>
<li>Claus O. Wilke’s <a href="https://wilkelab.org/cowplot/articles/index.html">cowplot</a> package</li>
<li><a href="https://wilkelab.org/cowplot/articles/shared_legends.html">Shared legend for all plots!</a></li>
</ul></li>
</ul>
</section>
<section id="more-ggplot-workshop-slides" class="slide level2">
<h2>* More ggplot workshop slides</h2>
<p>&nbsp;</p>
<ul>
<li>These slides are heavily adapted from R workshops
<ul>
<li>presented together with Jessica Minnier, PhD</li>
<li>sponsored by <em>OCTRI Biostatistics, Epidemiology, Research &amp; Design (BERD)</em>:</li>
</ul></li>
</ul>
<p>&nbsp;</p>
<ul>
<li><strong>Data Visualization with R and ggplot2</strong> 2020/05/20
<ul>
<li>html slides: <a href="https://jminnier-berd-r-courses.netlify.app/04-ggplot/04_ggplot_slides.html">bit.ly/berd_ggplot</a></li>
<li>pdf slides: <a href="https://jminnier-berd-r-courses.netlify.app/04-ggplot/04_ggplot_slides.pdf">bit.ly/berd_ggplot_pdf</a></li>
<li><a href="https://echo360.org/media/34465dc2-ae46-4508-b5a7-b0fee860682e/public">recording</a> of the presentation</li>
</ul></li>
</ul>
</section></section>
<section>
<section id="missing-data-summary-visualization" class="title-slide slide level1 center">
<h1>Missing data summary &amp; visualization</h1>
<ul>
<li>I <em>highly recommend</em> the tutorial: <strong>Exploring missing values in <code>naniar</code></strong> <a href="https://allisonhorst.shinyapps.io/missingexplorer/" class="uri">https://allisonhorst.shinyapps.io/missingexplorer/</a></li>
<li>These slides have some highlights of tools presented in the tutorial</li>
</ul>
<p>Load the <code>naniar</code> package if haven’t already:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href=""></a><span class="fu">library</span>(naniar)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

<img data-src="image/horst_naniar.png" class="r-stretch quarto-figure-center"><p class="caption"><a href="https://allisonhorst.com/r-packages-functions">Artwork by @allison_horst</a></p></section>
<section id="missingness-statistics" class="slide level2">
<h2>Missingness statistics</h2>
<p>Total number of missing values in dataset:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href=""></a><span class="fu">n_miss</span>(yrbss_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 15754</code></pre>
</div>
</div>
<p>Proportion of missing values in dataset:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href=""></a><span class="fu">prop_miss</span>(yrbss_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.0984625</code></pre>
</div>
</div>
<p>Missingness by each variable:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href=""></a><span class="fu">miss_var_summary</span>(yrbss_data) <span class="sc">%&gt;%</span> <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="avtcyzwvvf" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#avtcyzwvvf table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#avtcyzwvvf thead, #avtcyzwvvf tbody, #avtcyzwvvf tfoot, #avtcyzwvvf tr, #avtcyzwvvf td, #avtcyzwvvf th {
  border-style: none;
}

#avtcyzwvvf p {
  margin: 0;
  padding: 0;
}

#avtcyzwvvf .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#avtcyzwvvf .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#avtcyzwvvf .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#avtcyzwvvf .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#avtcyzwvvf .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#avtcyzwvvf .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#avtcyzwvvf .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#avtcyzwvvf .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#avtcyzwvvf .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#avtcyzwvvf .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#avtcyzwvvf .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#avtcyzwvvf .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#avtcyzwvvf .gt_spanner_row {
  border-bottom-style: hidden;
}

#avtcyzwvvf .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#avtcyzwvvf .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#avtcyzwvvf .gt_from_md > :first-child {
  margin-top: 0;
}

#avtcyzwvvf .gt_from_md > :last-child {
  margin-bottom: 0;
}

#avtcyzwvvf .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#avtcyzwvvf .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#avtcyzwvvf .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#avtcyzwvvf .gt_row_group_first td {
  border-top-width: 2px;
}

#avtcyzwvvf .gt_row_group_first th {
  border-top-width: 2px;
}

#avtcyzwvvf .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#avtcyzwvvf .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#avtcyzwvvf .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#avtcyzwvvf .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#avtcyzwvvf .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#avtcyzwvvf .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#avtcyzwvvf .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#avtcyzwvvf .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#avtcyzwvvf .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#avtcyzwvvf .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#avtcyzwvvf .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#avtcyzwvvf .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#avtcyzwvvf .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#avtcyzwvvf .gt_left {
  text-align: left;
}

#avtcyzwvvf .gt_center {
  text-align: center;
}

#avtcyzwvvf .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#avtcyzwvvf .gt_font_normal {
  font-weight: normal;
}

#avtcyzwvvf .gt_font_bold {
  font-weight: bold;
}

#avtcyzwvvf .gt_font_italic {
  font-style: italic;
}

#avtcyzwvvf .gt_super {
  font-size: 65%;
}

#avtcyzwvvf .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#avtcyzwvvf .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#avtcyzwvvf .gt_indent_1 {
  text-indent: 5px;
}

#avtcyzwvvf .gt_indent_2 {
  text-indent: 10px;
}

#avtcyzwvvf .gt_indent_3 {
  text-indent: 15px;
}

#avtcyzwvvf .gt_indent_4 {
  text-indent: 20px;
}

#avtcyzwvvf .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table caption-top" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="variable" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">variable</th>
<th id="n_miss" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">n_miss</th>
<th id="pct_miss" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">pct_miss</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="variable">stweight</td>
<td class="gt_row gt_right" headers="n_miss">6557</td>
<td class="gt_row gt_center" headers="pct_miss">32.8</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="variable">bmi</td>
<td class="gt_row gt_right" headers="n_miss">6458</td>
<td class="gt_row gt_center" headers="pct_miss">32.3</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="variable">race7</td>
<td class="gt_row gt_right" headers="n_miss">1187</td>
<td class="gt_row gt_center" headers="pct_miss">5.94</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="variable">race4</td>
<td class="gt_row gt_right" headers="n_miss">710</td>
<td class="gt_row gt_center" headers="pct_miss">3.55</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="variable">grade</td>
<td class="gt_row gt_right" headers="n_miss">406</td>
<td class="gt_row gt_center" headers="pct_miss">2.03</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="variable">sex</td>
<td class="gt_row gt_right" headers="n_miss">231</td>
<td class="gt_row gt_center" headers="pct_miss">1.16</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="variable">age</td>
<td class="gt_row gt_right" headers="n_miss">205</td>
<td class="gt_row gt_center" headers="pct_miss">1.03</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="variable">record</td>
<td class="gt_row gt_right" headers="n_miss">0</td>
<td class="gt_row gt_center" headers="pct_miss">0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="visualizing-missing-data-across-dataset" class="slide level2">
<h2>Visualizing missing data across dataset</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>This plot helps visualize whether
<ul>
<li>there are variables with a lot of missing values and/or</li>
<li>participants with a lot of missing values</li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<ul>
<li>Each row is an observation</li>
<li>Columns are for the different variables in the dataset</li>
<li>Black = missing, grey = not missing</li>
</ul>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href=""></a><span class="fu">vis_miss</span>(yrbss_data) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_R_berd_2024_files/figure-revealjs/unnamed-chunk-47-1.png" width="960" class="r-stretch"></section>
<section id="missingness-heatmap-by-group" class="slide level2">
<h2>Missingness heatmap by group</h2>
<ul>
<li>This plot is useful in comparing missingness rates stratified by a variable</li>
<li>Specify the variable to stratify the missingness heatmap by in the <code>fct =</code> option</li>
</ul>
<p>Example: Percent missingness stratified by age group</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href=""></a><span class="fu">gg_miss_fct</span>(yrbss_data, <span class="at">fct =</span> age) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_R_berd_2024_files/figure-revealjs/unnamed-chunk-48-1.png" width="960" class="r-stretch"></section>
<section id="missingness-intersections-upset-plot" class="slide level2">
<h2>Missingness intersections (UpSet plot)</h2>
<ul>
<li>UpSet plots are great for finding sets of variables that have a lot of missingess.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href=""></a><span class="fu">gg_miss_upset</span>(yrbss_data, <span class="at">nsets =</span> <span class="dv">10</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_R_berd_2024_files/figure-revealjs/unnamed-chunk-49-1.png" width="960" class="r-stretch"></section></section>
<section id="practice-time-part-3" class="title-slide slide level1 center scrollable">
<h1>Practice time! (part 3)</h1>
<ol type="1">
<li>Create a histogram for the <code>stweight</code> variable. Describe the distribution shape.</li>
<li>What happens if you change <code>x =</code> to <code>y =</code> in the histogram code?</li>
<li>Create boxplots of <code>stweight</code> stratified by sex.</li>
<li>Create a barplot of race4 categories with the y axis showing percentages.</li>
<li>Visualize the missing data across the YRBSS subset dataset we created <code>toy_data</code> using <code>vis_miss()</code>. What missingness patterns do you see?</li>
</ol>
</section>

<section>
<section id="data-wrangling" class="title-slide slide level1 center">
<h1>Data wrangling</h1>

<img data-src="image/horst_data_cowboy.png" class="r-stretch quarto-figure-center"><p class="caption"><a href="https://allisonhorst.com/r-packages-functions">Artwork by @allison_horst</a></p></section>
<section id="sorting-data-frames-using-arrange" class="slide level2">
<h2><strong>Sorting</strong> data frames using <code>arrange()</code></h2>
<p><code>arrange()</code> is a function that lets us <strong>sort</strong> a <code>data.frame</code> by a specified variable.</p>
<ul>
<li>By default, it sorts in <em>ascending</em> order:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span> </span>
<span id="cb64-2"><a href=""></a>  <span class="fu">arrange</span>(record)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 20,000 × 8
   record age                     sex   grade race4         race7   bmi stweight
    &lt;dbl&gt; &lt;chr&gt;                   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;         &lt;chr&gt; &lt;dbl&gt;    &lt;dbl&gt;
 1  30592 &lt;NA&gt;                    &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;     NA       NA
 2  30593 &lt;NA&gt;                    &lt;NA&gt;  9th   Hispanic/Lat… Hisp…    NA       NA
 3  30595 16 years old            &lt;NA&gt;  10th  White         White    NA       NA
 4  30599 12 years old or younger Male  &lt;NA&gt;  Hispanic/Lat… Hisp…    NA       NA
 5  30601 12 years old or younger Male  11th  White         White    NA       NA
 6  30604 12 years old or younger Male  9th   Hispanic/Lat… Hisp…    NA       NA
 7  30605 12 years old or younger Male  9th   All other ra… Asian    NA       NA
 8  30607 12 years old or younger Male  10th  All other ra… Am I…    NA       NA
 9  30608 12 years old or younger Male  9th   All other ra… &lt;NA&gt;     NA       NA
10  30612 14 years old            Male  9th   All other ra… &lt;NA&gt;     NA       NA
# ℹ 19,990 more rows</code></pre>
</div>
</div>
<ul>
<li>To sort by descending order, you need to wrap the variable in the <code>desc()</code> function:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span> </span>
<span id="cb66-2"><a href=""></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(record))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 20,000 × 8
    record age                   sex    grade race4         race7   bmi stweight
     &lt;dbl&gt; &lt;chr&gt;                 &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;         &lt;chr&gt; &lt;dbl&gt;    &lt;dbl&gt;
 1 1317069 18 years old or older Female 12th  Black or Afr… Blac…  24.4     69.0
 2 1317067 18 years old or older Female 12th  White         White  18.8     49.9
 3 1317066 18 years old or older Female 12th  White         White  32.1     90.7
 4 1317065 18 years old or older Female 12th  White         White  21.2     56.2
 5 1317064 18 years old or older Female 12th  White         White  23.5     68.0
 6 1317063 18 years old or older Female 12th  White         White  21.7     52.2
 7 1317062 18 years old or older Female 12th  White         White  24.8     61.2
 8 1317058 18 years old or older Female 11th  Black or Afr… Blac…  17.7     49.9
 9 1317057 18 years old or older Female 12th  All other ra… Asian  19.8     44.4
10 1317056 18 years old or older Female 12th  White         White  21.7     61.2
# ℹ 19,990 more rows</code></pre>
</div>
</div>
</section>
<section id="sorting-data-frames-by-multiple-variables" class="slide level2">
<h2>Sorting data frames by multiple variables</h2>
<ul>
<li>You can also arrange by multiple variables.
<ul>
<li>The code below sorts by <code>age</code> <em>first</em>, and then within <code>age</code>, we sort by <code>record</code>.</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span> </span>
<span id="cb68-2"><a href=""></a>  <span class="fu">arrange</span>(age, record)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 20,000 × 8
   record age                     sex    grade race4        race7   bmi stweight
    &lt;dbl&gt; &lt;chr&gt;                   &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;        &lt;chr&gt; &lt;dbl&gt;    &lt;dbl&gt;
 1  30599 12 years old or younger Male   &lt;NA&gt;  Hispanic/La… Hisp…    NA       NA
 2  30601 12 years old or younger Male   11th  White        White    NA       NA
 3  30604 12 years old or younger Male   9th   Hispanic/La… Hisp…    NA       NA
 4  30605 12 years old or younger Male   9th   All other r… Asian    NA       NA
 5  30607 12 years old or younger Male   10th  All other r… Am I…    NA       NA
 6  30608 12 years old or younger Male   9th   All other r… &lt;NA&gt;     NA       NA
 7  36582 12 years old or younger Female 12th  All other r… &lt;NA&gt;     NA       NA
 8  36584 12 years old or younger Female &lt;NA&gt;  Black or Af… Blac…    NA       NA
 9  36585 12 years old or younger Female 12th  All other r… Am I…    NA       NA
10  36586 12 years old or younger Female 9th   Black or Af… Blac…    NA       NA
# ℹ 19,990 more rows</code></pre>
</div>
</div>
<ul>
<li>Note that order of variables in <code>arrange()</code> matters!</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span> </span>
<span id="cb70-2"><a href=""></a>  <span class="fu">arrange</span>(record, age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 20,000 × 8
   record age                     sex   grade race4         race7   bmi stweight
    &lt;dbl&gt; &lt;chr&gt;                   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;         &lt;chr&gt; &lt;dbl&gt;    &lt;dbl&gt;
 1  30592 &lt;NA&gt;                    &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;          &lt;NA&gt;     NA       NA
 2  30593 &lt;NA&gt;                    &lt;NA&gt;  9th   Hispanic/Lat… Hisp…    NA       NA
 3  30595 16 years old            &lt;NA&gt;  10th  White         White    NA       NA
 4  30599 12 years old or younger Male  &lt;NA&gt;  Hispanic/Lat… Hisp…    NA       NA
 5  30601 12 years old or younger Male  11th  White         White    NA       NA
 6  30604 12 years old or younger Male  9th   Hispanic/Lat… Hisp…    NA       NA
 7  30605 12 years old or younger Male  9th   All other ra… Asian    NA       NA
 8  30607 12 years old or younger Male  10th  All other ra… Am I…    NA       NA
 9  30608 12 years old or younger Male  9th   All other ra… &lt;NA&gt;     NA       NA
10  30612 14 years old            Male  9th   All other ra… &lt;NA&gt;     NA       NA
# ℹ 19,990 more rows</code></pre>
</div>
</div>
</section>
<section id="arrange-after-count-ing-categorical-data" class="slide level2">
<h2><code>arrange()</code> after <code>count()</code>-ing categorical data</h2>
<ul>
<li>Another example of when <code>arrange()</code> is useful</li>
<li>We’ve used <code>tabyl()</code> to see what values exist in a categorical variable.</li>
</ul>
<div class="columns">
<div class="column" style="width:48%;">
<ul>
<li>We can also use <code>count()</code> to count all of the unique values for a categorical variable.</li>
<li>This will also show <code>NA</code> category, which is the special missing variable type:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span></span>
<span id="cb72-2"><a href=""></a>  <span class="fu">count</span>(age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 2
  age                         n
  &lt;chr&gt;                   &lt;int&gt;
1 12 years old or younger   137
2 13 years old               96
3 14 years old             2026
4 15 years old             4290
5 16 years old             4924
6 17 years old             4988
7 18 years old or older    3334
8 &lt;NA&gt;                      205</code></pre>
</div>
</div>
</div><div class="column" style="width:4%;">

</div><div class="column" style="width:48%;">
<ul>
<li>Sometimes it helps to arrange by that category if you have many categories to view.</li>
<li>This can also alert us if there are categorical coding mistakes (such as misspellings) in our data.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span></span>
<span id="cb74-2"><a href=""></a>  <span class="fu">count</span>(age) <span class="sc">%&gt;%</span></span>
<span id="cb74-3"><a href=""></a>  <span class="fu">arrange</span>(n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 2
  age                         n
  &lt;chr&gt;                   &lt;int&gt;
1 13 years old               96
2 12 years old or younger   137
3 &lt;NA&gt;                      205
4 14 years old             2026
5 18 years old or older    3334
6 15 years old             4290
7 16 years old             4924
8 17 years old             4988</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="saving-changes-we-make-to-a-dataframe" class="slide level2">
<h2>Saving changes we make to a dataframe</h2>
<ul>
<li>Note that we have not changed the order of the <code>yrbss_data</code> dataframe after arranging:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href=""></a><span class="fu">head</span>(yrbss_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
   record age                   sex    grade race4          race7   bmi stweight
    &lt;dbl&gt; &lt;chr&gt;                 &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;          &lt;chr&gt; &lt;dbl&gt;    &lt;dbl&gt;
1  931897 15 years old          Female 10th  White          White  17.2     54.4
2  333862 17 years old          Female 12th  White          White  20.2     57.2
3   36253 18 years old or older Male   11th  Hispanic/Lati… Hisp…  NA       NA  
4 1095530 15 years old          Male   10th  Black or Afri… Blac…  28.0     85.7
5 1303997 14 years old          Male   9th   All other rac… Mult…  24.5     66.7
6  261619 17 years old          Male   9th   All other rac… &lt;NA&gt;   NA       NA  </code></pre>
</div>
</div>
<ul>
<li>We need to <em>save our work</em> by re-assigning the sorted/arranged data frame as <code>yrbss_data</code> with the <code>&lt;-</code> operator:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href=""></a>yrbss_data <span class="ot">&lt;-</span> yrbss_data <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(record))</span>
<span id="cb78-2"><a href=""></a></span>
<span id="cb78-3"><a href=""></a>yrbss_data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 20,000 × 8
    record age                   sex    grade race4         race7   bmi stweight
     &lt;dbl&gt; &lt;chr&gt;                 &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;         &lt;chr&gt; &lt;dbl&gt;    &lt;dbl&gt;
 1 1317069 18 years old or older Female 12th  Black or Afr… Blac…  24.4     69.0
 2 1317067 18 years old or older Female 12th  White         White  18.8     49.9
 3 1317066 18 years old or older Female 12th  White         White  32.1     90.7
 4 1317065 18 years old or older Female 12th  White         White  21.2     56.2
 5 1317064 18 years old or older Female 12th  White         White  23.5     68.0
 6 1317063 18 years old or older Female 12th  White         White  21.7     52.2
 7 1317062 18 years old or older Female 12th  White         White  24.8     61.2
 8 1317058 18 years old or older Female 11th  Black or Afr… Blac…  17.7     49.9
 9 1317057 18 years old or older Female 12th  All other ra… Asian  19.8     44.4
10 1317056 18 years old or older Female 12th  White         White  21.7     61.2
# ℹ 19,990 more rows</code></pre>
</div>
</div>
</section></section>
<section id="subsetting-data" class="title-slide slide level1 center">
<h1>Subsetting data</h1>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="image/datawrangle_cheatsheet_subset_rows.png" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="image/datawrangle_cheatsheet_subset_cols.png"></p>
<figcaption><a href="https://github.com/rstudio/cheatsheets/raw/master/data-transformation.pdf">data transformation cheatsheet</a></figcaption>
</figure>
</div>
</section>

<section>
<section id="subset-rows-filtering-data" class="title-slide slide level1 center">
<h1>Subset rows: <code>filter()</code>ing data</h1>

<img data-src="image/horst_dplyr_filter.jpg" class="r-stretch quarto-figure-center"><p class="caption"><a href="https://allisonhorst.com/everything-else">Artwork by @allison_horst</a></p></section>
<section id="filtering-quantitative-data" class="slide level2">
<h2><code>filter()</code>ing quantitative data</h2>
<div class="columns">
<div class="column" style="width:30%;">
<p><code>filter()</code> is an extremely powerful function. It lets us <strong>subset our data</strong> according to specific criteria.</p>
<ul>
<li>Let’s filter on a <code>numeric</code> variable, <code>bmi</code>:</li>
</ul>
<p><strong><em>Note the double equal signs!</em></strong> <code>==</code> is a <em>test</em> of whether two things are equal, it is not an assignment (i.e.&nbsp;<code>x = 5</code> assigns the value 5 to the object <code>x</code>).</p>
</div><div class="column" style="width:70%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span></span>
<span id="cb80-2"><a href=""></a>  <span class="fu">filter</span>(bmi <span class="sc">&gt;</span> <span class="dv">40</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 160 × 8
    record age                   sex    grade race4         race7   bmi stweight
     &lt;dbl&gt; &lt;chr&gt;                 &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;         &lt;chr&gt; &lt;dbl&gt;    &lt;dbl&gt;
 1 1316985 18 years old or older Female 12th  White         White  42.4    127. 
 2 1316823 18 years old or older Female 12th  Black or Afr… Blac…  43.3    118. 
 3 1316755 18 years old or older Female 12th  White         White  41.0    109. 
 4 1316476 18 years old or older Female 12th  Hispanic/Lat… Hisp…  49.6    104. 
 5 1316448 18 years old or older Female 12th  All other ra… Mult…  41.9    128. 
 6 1316336 18 years old or older Female 12th  Black or Afr… Blac…  40.2    113. 
 7 1316330 18 years old or older Female 12th  Hispanic/Lat… Hisp…  40.2    113. 
 8 1316235 18 years old or older Female 12th  &lt;NA&gt;          &lt;NA&gt;   45.1    120. 
 9 1316186 18 years old or older Female &lt;NA&gt;  Hispanic/Lat… Hisp…  47.6     89.4
10 1315913 17 years old          Female 12th  Black or Afr… Blac…  53.3    142. 
# ℹ 150 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span></span>
<span id="cb82-2"><a href=""></a>  <span class="fu">filter</span>(bmi <span class="sc">==</span> <span class="fl">13.9</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 8
# ℹ 8 variables: record &lt;dbl&gt;, age &lt;chr&gt;, sex &lt;chr&gt;, grade &lt;chr&gt;, race4 &lt;chr&gt;,
#   race7 &lt;chr&gt;, bmi &lt;dbl&gt;, stweight &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span></span>
<span id="cb84-2"><a href=""></a>  <span class="fu">filter</span>(bmi <span class="sc">==</span> <span class="fl">13.9229</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 8
   record age          sex   grade race4                    race7   bmi stweight
    &lt;dbl&gt; &lt;chr&gt;        &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;                    &lt;chr&gt; &lt;dbl&gt;    &lt;dbl&gt;
1 1096565 15 years old Male  10th  Black or African Americ… Blac…  13.9     56.2</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="filtering-cateogrical-data" class="slide level2">
<h2><code>filter()</code>ing cateogrical data</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>To filter on a categorical variable, we need to know the values (levels) of the variable:</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span> <span class="fu">tabyl</span>(grade)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> grade    n percent valid_percent
  10th 4907 0.24535     0.2504338
  11th 4891 0.24455     0.2496172
  12th 4577 0.22885     0.2335919
   9th 5219 0.26095     0.2663570
  &lt;NA&gt;  406 0.02030            NA</code></pre>
</div>
</div>
</div>
</div>
<p><span style="color:darkorange"><strong><em>Note the double equal signs!</em></strong></span> <code>==</code> is a <em>test</em> of whether two things are equal, it is not an assignment (i.e.&nbsp;<code>x = 5</code> assigns the value 5 to the object <code>x</code>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span></span>
<span id="cb88-2"><a href=""></a>  <span class="fu">filter</span>(grade <span class="sc">==</span> <span class="st">"10th"</span>) <span class="co">#We must include " " around the value for categorical variables</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4,907 × 8
    record age                   sex    grade race4         race7   bmi stweight
     &lt;dbl&gt; &lt;chr&gt;                 &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;         &lt;chr&gt; &lt;dbl&gt;    &lt;dbl&gt;
 1 1317010 18 years old or older Female 10th  Black or Afr… Blac…  28.3     61.2
 2 1315996 17 years old          Female 10th  White         White  16.3     44.4
 3 1315971 17 years old          Female 10th  Hispanic/Lat… Hisp…  19.6     56.7
 4 1315934 17 years old          Female 10th  Black or Afr… Blac…  23.5     70.3
 5 1315928 17 years old          Female 10th  Black or Afr… Blac…  21.0     45.4
 6 1315926 17 years old          Female 10th  Hispanic/Lat… Hisp…  25.9     66.2
 7 1315884 17 years old          Female 10th  White         White  51.4    132. 
 8 1315816 17 years old          Female 10th  All other ra… Mult…  22.2     59.0
 9 1315792 17 years old          Female 10th  Hispanic/Lat… Hisp…  21.7     61.2
10 1315776 17 years old          Female 10th  Black or Afr… Blac…  20.6     50.8
# ℹ 4,897 more rows</code></pre>
</div>
</div>
<ul>
<li>If we want everything except 10th grade, we use the <span style="color:darkorange">“not equal” sign</span> <code>!=</code></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span></span>
<span id="cb90-2"><a href=""></a>  <span class="fu">filter</span>(grade <span class="sc">!=</span> <span class="st">"10th"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 14,687 × 8
    record age                   sex    grade race4         race7   bmi stweight
     &lt;dbl&gt; &lt;chr&gt;                 &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;         &lt;chr&gt; &lt;dbl&gt;    &lt;dbl&gt;
 1 1317069 18 years old or older Female 12th  Black or Afr… Blac…  24.4     69.0
 2 1317067 18 years old or older Female 12th  White         White  18.8     49.9
 3 1317066 18 years old or older Female 12th  White         White  32.1     90.7
 4 1317065 18 years old or older Female 12th  White         White  21.2     56.2
 5 1317064 18 years old or older Female 12th  White         White  23.5     68.0
 6 1317063 18 years old or older Female 12th  White         White  21.7     52.2
 7 1317062 18 years old or older Female 12th  White         White  24.8     61.2
 8 1317058 18 years old or older Female 11th  Black or Afr… Blac…  17.7     49.9
 9 1317057 18 years old or older Female 12th  All other ra… Asian  19.8     44.4
10 1317056 18 years old or older Female 12th  White         White  21.7     61.2
# ℹ 14,677 more rows</code></pre>
</div>
</div>
</section>
<section id="filtering-requires-a-little-logic" class="slide level2">
<h2>Filtering requires a little logic</h2>
<ul>
<li>We can chain multiple criteria using the <span style="color:darkorange"><code>&amp;</code> (AND)</span> or <span style="color:darkorange"><code>|</code> (OR) operators</span>.
<ul>
<li>But we need to review a little logic before we do this.</li>
</ul></li>
</ul>
<p>&nbsp;</p>
<ul>
<li>If we wanted to return participants who identified as
<ul>
<li><code>Female</code> <strong>and</strong> are in 10th grade,</li>
<li>we would use an <code>&amp;</code> to chain these criteria together:</li>
</ul></li>
</ul>
<pre><code>sex == "Female" &amp; grade == "10th"</code></pre>
<p>&nbsp;</p>
<ul>
<li>Note that <em>SPELLING AND CASE MATTER</em>!
<ul>
<li>You must write the name of the column exactly and</li>
<li>also the value (i.e.&nbsp;“Female” not “female”) exactly.</li>
</ul></li>
</ul>
</section>
<section id="filtering-with-and-criteria" class="slide level2">
<h2>Filtering with <code>&amp;</code> (AND) criteria</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span></span>
<span id="cb93-2"><a href=""></a>  <span class="fu">filter</span>(sex <span class="sc">==</span> <span class="st">"Female"</span> <span class="sc">&amp;</span> </span>
<span id="cb93-3"><a href=""></a>           grade <span class="sc">==</span> <span class="st">"10th"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,332 × 8
    record age                   sex    grade race4         race7   bmi stweight
     &lt;dbl&gt; &lt;chr&gt;                 &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;         &lt;chr&gt; &lt;dbl&gt;    &lt;dbl&gt;
 1 1317010 18 years old or older Female 10th  Black or Afr… Blac…  28.3     61.2
 2 1315996 17 years old          Female 10th  White         White  16.3     44.4
 3 1315971 17 years old          Female 10th  Hispanic/Lat… Hisp…  19.6     56.7
 4 1315934 17 years old          Female 10th  Black or Afr… Blac…  23.5     70.3
 5 1315928 17 years old          Female 10th  Black or Afr… Blac…  21.0     45.4
 6 1315926 17 years old          Female 10th  Hispanic/Lat… Hisp…  25.9     66.2
 7 1315884 17 years old          Female 10th  White         White  51.4    132. 
 8 1315816 17 years old          Female 10th  All other ra… Mult…  22.2     59.0
 9 1315792 17 years old          Female 10th  Hispanic/Lat… Hisp…  21.7     61.2
10 1315776 17 years old          Female 10th  Black or Afr… Blac…  20.6     50.8
# ℹ 2,322 more rows</code></pre>
</div>
</div>
<ul>
<li>Note that we could also use the comma in this case:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span></span>
<span id="cb95-2"><a href=""></a>  <span class="fu">filter</span>(sex <span class="sc">==</span> <span class="st">"Female"</span>,    <span class="co"># comma is equivalent to &amp; within filter()</span></span>
<span id="cb95-3"><a href=""></a>         grade <span class="sc">==</span> <span class="st">"10th"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,332 × 8
    record age                   sex    grade race4         race7   bmi stweight
     &lt;dbl&gt; &lt;chr&gt;                 &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;         &lt;chr&gt; &lt;dbl&gt;    &lt;dbl&gt;
 1 1317010 18 years old or older Female 10th  Black or Afr… Blac…  28.3     61.2
 2 1315996 17 years old          Female 10th  White         White  16.3     44.4
 3 1315971 17 years old          Female 10th  Hispanic/Lat… Hisp…  19.6     56.7
 4 1315934 17 years old          Female 10th  Black or Afr… Blac…  23.5     70.3
 5 1315928 17 years old          Female 10th  Black or Afr… Blac…  21.0     45.4
 6 1315926 17 years old          Female 10th  Hispanic/Lat… Hisp…  25.9     66.2
 7 1315884 17 years old          Female 10th  White         White  51.4    132. 
 8 1315816 17 years old          Female 10th  All other ra… Mult…  22.2     59.0
 9 1315792 17 years old          Female 10th  Hispanic/Lat… Hisp…  21.7     61.2
10 1315776 17 years old          Female 10th  Black or Afr… Blac…  20.6     50.8
# ℹ 2,322 more rows</code></pre>
</div>
</div>
</section>
<section id="filtering-with-or-criteria" class="slide level2">
<h2>Filtering with <code>|</code> (OR) criteria</h2>
<p>If we wanted patients who were</p>
<p><code>Female</code> <span style="color:darkorange"><strong>or</strong></span> in 10th grade</p>
<p>we would use a <code>|</code> to chain these criteria together.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span></span>
<span id="cb97-2"><a href=""></a>  <span class="fu">filter</span>(sex <span class="sc">==</span> <span class="st">"Female"</span> <span class="sc">|</span></span>
<span id="cb97-3"><a href=""></a>           grade <span class="sc">==</span> <span class="st">"10th"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12,167 × 8
    record age                   sex    grade race4         race7   bmi stweight
     &lt;dbl&gt; &lt;chr&gt;                 &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;         &lt;chr&gt; &lt;dbl&gt;    &lt;dbl&gt;
 1 1317069 18 years old or older Female 12th  Black or Afr… Blac…  24.4     69.0
 2 1317067 18 years old or older Female 12th  White         White  18.8     49.9
 3 1317066 18 years old or older Female 12th  White         White  32.1     90.7
 4 1317065 18 years old or older Female 12th  White         White  21.2     56.2
 5 1317064 18 years old or older Female 12th  White         White  23.5     68.0
 6 1317063 18 years old or older Female 12th  White         White  21.7     52.2
 7 1317062 18 years old or older Female 12th  White         White  24.8     61.2
 8 1317058 18 years old or older Female 11th  Black or Afr… Blac…  17.7     49.9
 9 1317057 18 years old or older Female 12th  All other ra… Asian  19.8     44.4
10 1317056 18 years old or older Female 12th  White         White  21.7     61.2
# ℹ 12,157 more rows</code></pre>
</div>
</div>
<div class="callout callout-warning no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Think about it:</strong></p>
</div>
<div class="callout-content">
<p>Which of the AND vs.&nbsp;OR code blocks will return a larger number of participants?</p>
</div>
</div>
</div>
</section>
<section id="more-filter-examples" class="slide level2">
<h2>More filter examples</h2>
<ul>
<li><p>See <a href="https://jminnier-berd-r-courses.netlify.app/02-data-wrangling-tidyverse/02_data_wrangling_slides_part1.html#27">this slide</a> from a previous BERD workshop.</p></li>
<li><p>Also read the <a href="https://r4ds.had.co.nz/transform.html#filter-rows-with-filter">“Data Transformation” chapter in R for Data Science</a>.</p></li>
</ul>
<p>&nbsp;</p>
<h3 id="more-about-comparison-and-logical-operators">More about comparison and logical operators</h3>
<p>This is a useful reference for all the different operators (both logical and comparison) that you can use: <a href="https://www.datamentor.io/r-programming/operator/" class="uri">https://www.datamentor.io/r-programming/operator/</a></p>
</section>
<section id="filtering-out-missing-values-using-drop_na-12" class="slide level2">
<h2>Filtering out missing values using <code>drop_na()</code> (1/2)</h2>
<ul>
<li><p>We may want to remove rows that have missing data, which are coded as <code>NA</code>.</p></li>
<li><p>See the <a href="https://tidyr.tidyverse.org/reference/drop_na.html"><code>drop_na()</code></a> reference for examples (<code>?drop_na</code>).</p></li>
</ul>
<p>&nbsp;</p>
<ul>
<li>First look at rates of missingness using the <code>naniar</code> package:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href=""></a>naniar<span class="sc">::</span><span class="fu">miss_var_summary</span>(yrbss_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 3
  variable n_miss pct_miss
  &lt;chr&gt;     &lt;int&gt;    &lt;num&gt;
1 stweight   6557    32.8 
2 bmi        6458    32.3 
3 race7      1187     5.94
4 race4       710     3.55
5 grade       406     2.03
6 sex         231     1.16
7 age         205     1.03
8 record        0     0   </code></pre>
</div>
</div>
</section>
<section id="filtering-out-missing-values-using-drop_na-22" class="slide level2">
<h2>Filtering out missing values using <code>drop_na()</code> (2/2)</h2>
<p><em>Pay attention to the number of rows for each of these results</em></p>
<ul>
<li>Remove missingness in one column:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span> <span class="fu">drop_na</span>(race7)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 18,813 × 8
    record age                   sex    grade race4         race7   bmi stweight
     &lt;dbl&gt; &lt;chr&gt;                 &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;         &lt;chr&gt; &lt;dbl&gt;    &lt;dbl&gt;
 1 1317069 18 years old or older Female 12th  Black or Afr… Blac…  24.4     69.0
 2 1317067 18 years old or older Female 12th  White         White  18.8     49.9
 3 1317066 18 years old or older Female 12th  White         White  32.1     90.7
 4 1317065 18 years old or older Female 12th  White         White  21.2     56.2
 5 1317064 18 years old or older Female 12th  White         White  23.5     68.0
 6 1317063 18 years old or older Female 12th  White         White  21.7     52.2
 7 1317062 18 years old or older Female 12th  White         White  24.8     61.2
 8 1317058 18 years old or older Female 11th  Black or Afr… Blac…  17.7     49.9
 9 1317057 18 years old or older Female 12th  All other ra… Asian  19.8     44.4
10 1317056 18 years old or older Female 12th  White         White  21.7     61.2
# ℹ 18,803 more rows</code></pre>
</div>
</div>
<ul>
<li>Remove missingness in two columns:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span> <span class="fu">drop_na</span>(race7, bmi)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 13,126 × 8
    record age                   sex    grade race4         race7   bmi stweight
     &lt;dbl&gt; &lt;chr&gt;                 &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;         &lt;chr&gt; &lt;dbl&gt;    &lt;dbl&gt;
 1 1317069 18 years old or older Female 12th  Black or Afr… Blac…  24.4     69.0
 2 1317067 18 years old or older Female 12th  White         White  18.8     49.9
 3 1317066 18 years old or older Female 12th  White         White  32.1     90.7
 4 1317065 18 years old or older Female 12th  White         White  21.2     56.2
 5 1317064 18 years old or older Female 12th  White         White  23.5     68.0
 6 1317063 18 years old or older Female 12th  White         White  21.7     52.2
 7 1317062 18 years old or older Female 12th  White         White  24.8     61.2
 8 1317058 18 years old or older Female 11th  Black or Afr… Blac…  17.7     49.9
 9 1317057 18 years old or older Female 12th  All other ra… Asian  19.8     44.4
10 1317056 18 years old or older Female 12th  White         White  21.7     61.2
# ℹ 13,116 more rows</code></pre>
</div>
</div>
<ul>
<li>Remove all missingness:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span> <span class="fu">drop_na</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12,897 × 8
    record age                   sex    grade race4         race7   bmi stweight
     &lt;dbl&gt; &lt;chr&gt;                 &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;         &lt;chr&gt; &lt;dbl&gt;    &lt;dbl&gt;
 1 1317069 18 years old or older Female 12th  Black or Afr… Blac…  24.4     69.0
 2 1317067 18 years old or older Female 12th  White         White  18.8     49.9
 3 1317066 18 years old or older Female 12th  White         White  32.1     90.7
 4 1317065 18 years old or older Female 12th  White         White  21.2     56.2
 5 1317064 18 years old or older Female 12th  White         White  23.5     68.0
 6 1317063 18 years old or older Female 12th  White         White  21.7     52.2
 7 1317062 18 years old or older Female 12th  White         White  24.8     61.2
 8 1317058 18 years old or older Female 11th  Black or Afr… Blac…  17.7     49.9
 9 1317057 18 years old or older Female 12th  All other ra… Asian  19.8     44.4
10 1317056 18 years old or older Female 12th  White         White  21.7     61.2
# ℹ 12,887 more rows</code></pre>
</div>
</div>
</section>
<section id="a-warning-about-filter-check-for-na" class="slide level2">
<h2>A warning about <code>filter()</code>: check for NA</h2>
<ul>
<li>Suppose we want to remove the <code>10th</code> grade category.</li>
<li>However this column has missingness in it as we can see with <code>tabyl()</code>.</li>
<li>When we try to filter using <code>!="10th"</code> we lose our <code>NAs</code>!
<ul>
<li>That isn’t really expected.</li>
</ul></li>
<li>You need to account for this with an <em>or</em> <code>|</code> statement:</li>
</ul>
<div class="columns">
<div class="column" style="width:45%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span> </span>
<span id="cb107-2"><a href=""></a>  <span class="fu">tabyl</span>(grade)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> grade    n percent valid_percent
  10th 4907 0.24535     0.2504338
  11th 4891 0.24455     0.2496172
  12th 4577 0.22885     0.2335919
   9th 5219 0.26095     0.2663570
  &lt;NA&gt;  406 0.02030            NA</code></pre>
</div>
</div>
<p>Lost the <code>NA</code>’s in the filtering below!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span> </span>
<span id="cb109-2"><a href=""></a>  <span class="fu">filter</span>(grade <span class="sc">!=</span> <span class="st">"10th"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb109-3"><a href=""></a>  <span class="fu">tabyl</span>(grade)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> grade    n   percent
  11th 4891 0.3330156
  12th 4577 0.3116361
   9th 5219 0.3553483</code></pre>
</div>
</div>
</div><div class="column" style="width:55%;">
<p>Updated code to keep the <code>NA</code>’s when filtering:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span></span>
<span id="cb111-2"><a href=""></a>  <span class="co"># add an | (OR) statement </span></span>
<span id="cb111-3"><a href=""></a>  <span class="co"># to keep in the NA values</span></span>
<span id="cb111-4"><a href=""></a>  <span class="fu">filter</span>((grade <span class="sc">!=</span> <span class="st">"10th"</span>) <span class="sc">|</span></span>
<span id="cb111-5"><a href=""></a>           <span class="fu">is.na</span>(grade)) <span class="sc">%&gt;%</span></span>
<span id="cb111-6"><a href=""></a>  <span class="fu">tabyl</span>(grade)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> grade    n    percent valid_percent
  11th 4891 0.32405751     0.3330156
  12th 4577 0.30325316     0.3116361
   9th 5219 0.34578944     0.3553483
  &lt;NA&gt;  406 0.02689989            NA</code></pre>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="subset-columns-selecting-data" class="title-slide slide level1 center">
<h1>Subset columns: <code>select()</code>ing data</h1>

<img data-src="image/datawrangle_cheatsheet_subset_cols.png" class="r-stretch quarto-figure-center"><p class="caption"><a href="https://github.com/rstudio/cheatsheets/raw/master/data-transformation.pdf">data transformation cheatsheet</a></p></section>
<section id="selecting-columns-using-select" class="slide level2">
<h2>Selecting columns using <code>select()</code></h2>
<ul>
<li>The <code>select()</code> function allows us to select variables or columns from our dataset:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span></span>
<span id="cb113-2"><a href=""></a>  <span class="fu">select</span>(record, age, race4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 20,000 × 3
    record age                   race4                    
     &lt;dbl&gt; &lt;chr&gt;                 &lt;chr&gt;                    
 1 1317069 18 years old or older Black or African American
 2 1317067 18 years old or older White                    
 3 1317066 18 years old or older White                    
 4 1317065 18 years old or older White                    
 5 1317064 18 years old or older White                    
 6 1317063 18 years old or older White                    
 7 1317062 18 years old or older White                    
 8 1317058 18 years old or older Black or African American
 9 1317057 18 years old or older All other races          
10 1317056 18 years old or older White                    
# ℹ 19,990 more rows</code></pre>
</div>
</div>
<ul>
<li>If we want to select everything <em>except</em> one variable,
<ul>
<li>we can use a <code>-</code> in front of that variable.</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span></span>
<span id="cb115-2"><a href=""></a>  <span class="fu">select</span>(<span class="sc">-</span>race4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 20,000 × 7
    record age                   sex    grade race7                 bmi stweight
     &lt;dbl&gt; &lt;chr&gt;                 &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;               &lt;dbl&gt;    &lt;dbl&gt;
 1 1317069 18 years old or older Female 12th  Black or African A…  24.4     69.0
 2 1317067 18 years old or older Female 12th  White                18.8     49.9
 3 1317066 18 years old or older Female 12th  White                32.1     90.7
 4 1317065 18 years old or older Female 12th  White                21.2     56.2
 5 1317064 18 years old or older Female 12th  White                23.5     68.0
 6 1317063 18 years old or older Female 12th  White                21.7     52.2
 7 1317062 18 years old or older Female 12th  White                24.8     61.2
 8 1317058 18 years old or older Female 11th  Black or African A…  17.7     49.9
 9 1317057 18 years old or older Female 12th  Asian                19.8     44.4
10 1317056 18 years old or older Female 12th  White                21.7     61.2
# ℹ 19,990 more rows</code></pre>
</div>
</div>
</section>
<section id="tidyselect" class="slide level2">
<h2><code>tidyselect</code></h2>
<ul>
<li><p>There are ways to search column names and to select them.</p></li>
<li><p>These are called the <code>tidyselect</code> helpers.</p></li>
<li><p>You can see some examples here: <a href="https://tidyselect.r-lib.org/reference/language.html" class="uri">https://tidyselect.r-lib.org/reference/language.html</a></p></li>
<li><p>For instance, you can see how this might be useful, where we select all columns where the column name includes the word “race”:</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span> </span>
<span id="cb117-2"><a href=""></a>  <span class="fu">select</span>(<span class="fu">contains</span>(<span class="st">"race"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 20,000 × 2
   race4                     race7                    
   &lt;chr&gt;                     &lt;chr&gt;                    
 1 Black or African American Black or African American
 2 White                     White                    
 3 White                     White                    
 4 White                     White                    
 5 White                     White                    
 6 White                     White                    
 7 White                     White                    
 8 Black or African American Black or African American
 9 All other races           Asian                    
10 White                     White                    
# ℹ 19,990 more rows</code></pre>
</div>
</div>
<ul>
<li>or select all columns starting with “r”:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span> </span>
<span id="cb119-2"><a href=""></a>  <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">"r"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 20,000 × 3
    record race4                     race7                    
     &lt;dbl&gt; &lt;chr&gt;                     &lt;chr&gt;                    
 1 1317069 Black or African American Black or African American
 2 1317067 White                     White                    
 3 1317066 White                     White                    
 4 1317065 White                     White                    
 5 1317064 White                     White                    
 6 1317063 White                     White                    
 7 1317062 White                     White                    
 8 1317058 Black or African American Black or African American
 9 1317057 All other races           Asian                    
10 1317056 White                     White                    
# ℹ 19,990 more rows</code></pre>
</div>
</div>
<ul>
<li>This is a useful shortcut (though use with caution, you need to know your column names and order):</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 20,000 × 3
    record age                   sex   
     &lt;dbl&gt; &lt;chr&gt;                 &lt;chr&gt; 
 1 1317069 18 years old or older Female
 2 1317067 18 years old or older Female
 3 1317066 18 years old or older Female
 4 1317065 18 years old or older Female
 5 1317064 18 years old or older Female
 6 1317063 18 years old or older Female
 7 1317062 18 years old or older Female
 8 1317058 18 years old or older Female
 9 1317057 18 years old or older Female
10 1317056 18 years old or older Female
# ℹ 19,990 more rows</code></pre>
</div>
</div>
<ul>
<li><code>select()</code> and <code>everything()</code> are a useful combination for some quick rearranging of columns:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span> <span class="fu">select</span>(record, bmi, <span class="fu">everything</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 20,000 × 8
    record   bmi age                   sex    grade race4         race7 stweight
     &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;                 &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;         &lt;chr&gt;    &lt;dbl&gt;
 1 1317069  24.4 18 years old or older Female 12th  Black or Afr… Blac…     69.0
 2 1317067  18.8 18 years old or older Female 12th  White         White     49.9
 3 1317066  32.1 18 years old or older Female 12th  White         White     90.7
 4 1317065  21.2 18 years old or older Female 12th  White         White     56.2
 5 1317064  23.5 18 years old or older Female 12th  White         White     68.0
 6 1317063  21.7 18 years old or older Female 12th  White         White     52.2
 7 1317062  24.8 18 years old or older Female 12th  White         White     61.2
 8 1317058  17.7 18 years old or older Female 11th  Black or Afr… Blac…     49.9
 9 1317057  19.8 18 years old or older Female 12th  All other ra… Asian     44.4
10 1317056  21.7 18 years old or older Female 12th  White         White     61.2
# ℹ 19,990 more rows</code></pre>
</div>
</div>
<ul>
<li>Note there’s also a function <a href="https://dplyr.tidyverse.org/reference/relocate.html"><code>relocate()</code> to move around your column order</a>.</li>
</ul>
</section>
<section id="tidyselect-mini-practice" class="slide level2">
<h2><code>tidyselect</code> mini-practice</h2>
<ul>
<li>We can also select variables based on data types</li>
<li>For instance, this use of <code>select(where(is.numeric))</code> selects all numeric columns
<ul>
<li>(<code>where()</code> is a helper function that returns columns where the inside function is TRUE,</li>
<li>in this case <code>is.numeric</code> returns the TRUE/FALSE)</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">where</span>(is.numeric))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 20,000 × 3
    record   bmi stweight
     &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;
 1 1317069  24.4     69.0
 2 1317067  18.8     49.9
 3 1317066  32.1     90.7
 4 1317065  21.2     56.2
 5 1317064  23.5     68.0
 6 1317063  21.7     52.2
 7 1317062  24.8     61.2
 8 1317058  17.7     49.9
 9 1317057  19.8     44.4
10 1317056  21.7     61.2
# ℹ 19,990 more rows</code></pre>
</div>
</div>
<ul>
<li>Try using <code>is.character</code> to select all character columns, as well as the column <code>bmi</code>.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href=""></a><span class="co"># change eval: TRUE above</span></span>
<span id="cb127-2"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span> <span class="fu">select</span>(____, _____)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="learn-more-about-tidyselect-bonus---on-your-own" class="slide level2">
<h2>** Learn more about <code>tidyselect</code> (BONUS - on your own)</h2>
<ul>
<li><p>See some more examples in <a href="https://jminnier-berd-r-courses.netlify.app/02-data-wrangling-tidyverse/02_data_wrangling_slides_part1.html#32">this slide</a> from a previous BERD workshop</p></li>
<li><p>For more info and learning about <code>tidyselect</code>, please run this code in your console:</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href=""></a><span class="co"># install remotes package</span></span>
<span id="cb128-2"><a href=""></a><span class="fu">install.packages</span>(<span class="st">"remotes"</span>)</span>
<span id="cb128-3"><a href=""></a></span>
<span id="cb128-4"><a href=""></a><span class="co"># use remotes to install this package from github</span></span>
<span id="cb128-5"><a href=""></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"laderast/tidyowl"</span>)</span>
<span id="cb128-6"><a href=""></a></span>
<span id="cb128-7"><a href=""></a><span class="co"># load tidyowl package</span></span>
<span id="cb128-8"><a href=""></a><span class="fu">library</span>(tidyowl)</span>
<span id="cb128-9"><a href=""></a></span>
<span id="cb128-10"><a href=""></a><span class="co"># interactive tutorial</span></span>
<span id="cb128-11"><a href=""></a>tidyowl<span class="sc">::</span><span class="fu">learn_tidyselect</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="the-difference-between-filter-and-select" class="slide level2">
<h2>The difference between <code>filter()</code> and <code>select()</code></h2>
<p>&nbsp;</p>
<ul>
<li>One thing to keep in mind is that:
<ul>
<li><code>filter()</code> works on <span style="color:darkorange">rows</span> (think FILTER in Excel!), and</li>
<li><code>select()</code> works on <span style="color:darkorange">columns</span> (select your relevant variables)</li>
</ul></li>
</ul>
<p>&nbsp;</p>
<p>Keep that in mind!</p>
</section>
<section id="renaming-with-rename" class="slide level2">
<h2>Renaming with <code>rename()</code></h2>
<ul>
<li><p>You can rename columns with <code>select()</code> but it’s a bit easier to do this with the <code>rename()</code> function.</p></li>
<li><p>You just need to remember <strong><code>new_name = old_name</code></strong> ordering.</p>
<ul>
<li>One equal sign will suffice!</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">id =</span> record,</span>
<span id="cb129-2"><a href=""></a>                  <span class="at">race_cat =</span> race4,</span>
<span id="cb129-3"><a href=""></a>                  <span class="at">weight =</span> stweight)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 20,000 × 8
        id age                   sex    grade race_cat        race7   bmi weight
     &lt;dbl&gt; &lt;chr&gt;                 &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;           &lt;chr&gt; &lt;dbl&gt;  &lt;dbl&gt;
 1 1317069 18 years old or older Female 12th  Black or Afric… Blac…  24.4   69.0
 2 1317067 18 years old or older Female 12th  White           White  18.8   49.9
 3 1317066 18 years old or older Female 12th  White           White  32.1   90.7
 4 1317065 18 years old or older Female 12th  White           White  21.2   56.2
 5 1317064 18 years old or older Female 12th  White           White  23.5   68.0
 6 1317063 18 years old or older Female 12th  White           White  21.7   52.2
 7 1317062 18 years old or older Female 12th  White           White  24.8   61.2
 8 1317058 18 years old or older Female 11th  Black or Afric… Blac…  17.7   49.9
 9 1317057 18 years old or older Female 12th  All other races Asian  19.8   44.4
10 1317056 18 years old or older Female 12th  White           White  21.7   61.2
# ℹ 19,990 more rows</code></pre>
</div>
</div>
<p>&nbsp;</p>
<p><em>Note that <span style="color:darkorange">we did not save the changes above</span>, and thus we haven’t actually renamed the variables in the dataset <code>yrbss_data</code>!</em></p>
</section>
<section id="saving-our-results-as-a-file" class="slide level2">
<h2>Saving our results as a file</h2>
<ul>
<li>Let’s save some processed data in the <code>output/</code> directory.</li>
<li>We’ll save it as an <code>xlsx</code> file so that we can open it in Excel.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href=""></a><span class="co"># chain together several data transformation steps with %&gt;%</span></span>
<span id="cb131-2"><a href=""></a></span>
<span id="cb131-3"><a href=""></a><span class="co"># use &lt;- to assign the new data to a different name to avoid overwriting the original dataset</span></span>
<span id="cb131-4"><a href=""></a></span>
<span id="cb131-5"><a href=""></a>processed_data <span class="ot">&lt;-</span> yrbss_data <span class="sc">%&gt;%</span>   </span>
<span id="cb131-6"><a href=""></a>  <span class="fu">select</span>(<span class="sc">-</span>race7) <span class="sc">%&gt;%</span></span>
<span id="cb131-7"><a href=""></a>  <span class="fu">rename</span>(<span class="at">id =</span> record,</span>
<span id="cb131-8"><a href=""></a>         <span class="at">race_cat =</span> race4,</span>
<span id="cb131-9"><a href=""></a>         <span class="at">weight =</span> stweight) <span class="sc">%&gt;%</span></span>
<span id="cb131-10"><a href=""></a>  <span class="fu">filter</span>(sex <span class="sc">==</span> <span class="st">"Female"</span>)</span>
<span id="cb131-11"><a href=""></a></span>
<span id="cb131-12"><a href=""></a><span class="fu">glimpse</span>(processed_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 9,592
Columns: 7
$ id       &lt;dbl&gt; 1317069, 1317067, 1317066, 1317065, 1317064, 1317063, 1317062…
$ age      &lt;chr&gt; "18 years old or older", "18 years old or older", "18 years o…
$ sex      &lt;chr&gt; "Female", "Female", "Female", "Female", "Female", "Female", "…
$ grade    &lt;chr&gt; "12th", "12th", "12th", "12th", "12th", "12th", "12th", "11th…
$ race_cat &lt;chr&gt; "Black or African American", "White", "White", "White", "Whit…
$ bmi      &lt;dbl&gt; 24.4296, 18.7813, 32.1429, 21.1713, 23.5433, 21.7107, 24.8448…
$ weight   &lt;dbl&gt; 68.95, 49.90, 90.72, 56.25, 68.04, 52.16, 61.24, 49.90, 44.45…</code></pre>
</div>
</div>
<p><span style="color:darkorange">Save</span> the <code>processed_data</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href=""></a><span class="fu">write_xlsx</span>(<span class="at">x =</span> processed_data,</span>
<span id="cb133-2"><a href=""></a>                <span class="at">path =</span> <span class="st">"output/processed_data.xlsx"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section>
<section id="practice-time-part-4" class="title-slide slide level1 center scrollable">
<h1>Practice time! (part 4)</h1>
<p>Perform some subsetting functions on the <code>yrbss_data</code> data:</p>
<ol type="1">
<li><p>Use <code>filter()</code> to select people who are in 9th or 10th grade and who have BMI less than 25. Save the resulting data as <code>yrbss_filtered</code> tibble.</p></li>
<li><p>Use <code>rename()</code> to rename 2 of the column names of <code>yrbss_filtered</code> to something more meaningful.</p></li>
<li><p>Use <code>select()</code> to keep only the columns that denote record, sex, grade, bmi, and the 2 renamed columns.</p></li>
<li><p>Arrange the data by bmi, starting with the highest value and ending with the least value.</p></li>
<li><p>Save the resulting data set in the file <code>data/practice4_data.xslx</code>.</p></li>
</ol>
</section>

<section>
<section id="make-new-variables-mutate" class="title-slide slide level1 center">
<h1>Make new variables: <code>mutate()</code></h1>
<div class="columns">
<div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="image/horst_mutate.jpg"></p>
<figcaption><a href="https://allisonhorst.com/everything-else">Artwork by @allison_horst</a></figcaption>
</figure>
</div>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="image/datawrangle_cheatsheet_makenewvars.png"></p>
<figcaption><a href="https://github.com/rstudio/cheatsheets/raw/master/data-transformation.pdf">data transformation cheatsheet</a></figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="columns-in-a-tibbledata-frame" class="slide level2">
<h2>Columns in a tibble/data frame</h2>
<ul>
<li>Remember we learned to use <code>select()</code> to change columns in a <code>data.frame</code>,
<ul>
<li>but this is based on existing columns.</li>
</ul></li>
<li>For instance, removing two columns:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb134-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>record, <span class="sc">-</span>sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 20,000 × 6
   age                   grade race4                     race7      bmi stweight
   &lt;chr&gt;                 &lt;chr&gt; &lt;chr&gt;                     &lt;chr&gt;    &lt;dbl&gt;    &lt;dbl&gt;
 1 18 years old or older 12th  Black or African American Black o…  24.4     69.0
 2 18 years old or older 12th  White                     White     18.8     49.9
 3 18 years old or older 12th  White                     White     32.1     90.7
 4 18 years old or older 12th  White                     White     21.2     56.2
 5 18 years old or older 12th  White                     White     23.5     68.0
 6 18 years old or older 12th  White                     White     21.7     52.2
 7 18 years old or older 12th  White                     White     24.8     61.2
 8 18 years old or older 11th  Black or African American Black o…  17.7     49.9
 9 18 years old or older 12th  All other races           Asian     19.8     44.4
10 18 years old or older 12th  White                     White     21.7     61.2
# ℹ 19,990 more rows</code></pre>
</div>
</div>
<ul>
<li>What if we want to add new columns to our data,
<ul>
<li>or change the data in the columns in some way?</li>
</ul></li>
</ul>
</section>
<section id="mutate---a-confusing-name-a-powerful-dplyr-verb" class="slide level2">
<h2><code>mutate()</code> - A confusing name, a powerful <code>dplyr</code> verb</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>So what is mutate? <code>mutate()</code> is one of the most useful <code>dplyr</code> verbs.</li>
<li>You can use <code>mutate()</code> to
<ul>
<li>transform existing data (variables in your <code>data.frame</code>) and/or</li>
<li>add new variables into the data.frame.</li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="image/horst_mutate.jpg" style="width:70.0%"></p>
<figcaption><a href="https://allisonhorst.com/everything-else">Artwork by @allison_horst</a></figcaption>
</figure>
</div>
</div>
</div>
<p>Think of this like adding a formula in Excel to calculate the value of a new column based on previous columns. You can do lots of things such as:</p>
<ul>
<li>subtract one column from another</li>
<li>convert the units of one column to new units (such as days to years)</li>
<li>change the capitalization of categories in a variable</li>
<li>recode a continuous variable to be a categorical one</li>
</ul>
</section>
<section id="using-mutate-to-calculate-a-new-variable-based-on-other-variables-13" class="slide level2">
<h2>Using <code>mutate</code> to calculate a new variable based on other variables (1/3)</h2>
<ul>
<li>One use for <code>mutate</code> is to do Excel type calculations using other columns in the data.
<ul>
<li>For instance, we might want to covert weight to kg, assuming <code>stweight</code> is in lbs</li>
</ul></li>
<li>Notice we use <code>=</code> inside mutate, not <code>==</code> or <code>&lt;-</code>.
<ul>
<li>We are not making a logical operation, nor are we assigning something to an object name.</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb136"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb136-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span> </span>
<span id="cb136-2"><a href=""></a>    <span class="fu">mutate</span>(<span class="at">weight_kg =</span> stweight<span class="sc">/</span><span class="fl">2.205</span>) <span class="sc">%&gt;%</span></span>
<span id="cb136-3"><a href=""></a>    <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 20,000
Columns: 9
$ record    &lt;dbl&gt; 1317069, 1317067, 1317066, 1317065, 1317064, 1317063, 131706…
$ age       &lt;chr&gt; "18 years old or older", "18 years old or older", "18 years …
$ sex       &lt;chr&gt; "Female", "Female", "Female", "Female", "Female", "Female", …
$ grade     &lt;chr&gt; "12th", "12th", "12th", "12th", "12th", "12th", "12th", "11t…
$ race4     &lt;chr&gt; "Black or African American", "White", "White", "White", "Whi…
$ race7     &lt;chr&gt; "Black or African American", "White", "White", "White", "Whi…
$ bmi       &lt;dbl&gt; 24.4296, 18.7813, 32.1429, 21.1713, 23.5433, 21.7107, 24.844…
$ stweight  &lt;dbl&gt; 68.95, 49.90, 90.72, 56.25, 68.04, 52.16, 61.24, 49.90, 44.4…
$ weight_kg &lt;dbl&gt; 31.26984, 22.63039, 41.14286, 25.51020, 30.85714, 23.65533, …</code></pre>
</div>
</div>
<ul>
<li>Remember, since we haven’t assigned this new “mutated” data frame to an object name, our work hasn’t been saved.</li>
</ul>
</section>
<section id="using-mutate-to-calculate-a-new-variable-based-on-other-variables-23" class="slide level2">
<h2>Using <code>mutate</code> to calculate a new variable based on other variables (2/3)</h2>
<ul>
<li>Below, we save the new data frame/tibble as <code>yrbss_new</code>
<ul>
<li>to avoid overwriting our other data set.</li>
<li>Check out the environment tab for the new tibble.</li>
</ul></li>
<li>Notice also how we can mutate multiple variables at one time.
<ul>
<li>We can also mutate using multiple columns.</li>
<li>Here we have created two new weight variables in different scales</li>
<li>In the next <em>Practice time</em>, you will make a height variable from <code>bmi</code> and <code>weight_kg</code></li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb138-1"><a href=""></a>yrbss_new <span class="ot">&lt;-</span> yrbss_data <span class="sc">%&gt;%</span> </span>
<span id="cb138-2"><a href=""></a>    <span class="fu">mutate</span>(<span class="at">weight_kg =</span> stweight<span class="sc">/</span><span class="fl">2.205</span>,</span>
<span id="cb138-3"><a href=""></a>           <span class="at">weight_g =</span> weight_kg<span class="sc">*</span><span class="dv">1000</span>)</span>
<span id="cb138-4"><a href=""></a></span>
<span id="cb138-5"><a href=""></a><span class="fu">glimpse</span>(yrbss_new)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 20,000
Columns: 10
$ record    &lt;dbl&gt; 1317069, 1317067, 1317066, 1317065, 1317064, 1317063, 131706…
$ age       &lt;chr&gt; "18 years old or older", "18 years old or older", "18 years …
$ sex       &lt;chr&gt; "Female", "Female", "Female", "Female", "Female", "Female", …
$ grade     &lt;chr&gt; "12th", "12th", "12th", "12th", "12th", "12th", "12th", "11t…
$ race4     &lt;chr&gt; "Black or African American", "White", "White", "White", "Whi…
$ race7     &lt;chr&gt; "Black or African American", "White", "White", "White", "Whi…
$ bmi       &lt;dbl&gt; 24.4296, 18.7813, 32.1429, 21.1713, 23.5433, 21.7107, 24.844…
$ stweight  &lt;dbl&gt; 68.95, 49.90, 90.72, 56.25, 68.04, 52.16, 61.24, 49.90, 44.4…
$ weight_kg &lt;dbl&gt; 31.26984, 22.63039, 41.14286, 25.51020, 30.85714, 23.65533, …
$ weight_g  &lt;dbl&gt; 31269.84, 22630.39, 41142.86, 25510.20, 30857.14, 23655.33, …</code></pre>
</div>
</div>
</section>
<section id="using-mutate-to-calculate-a-new-variable-based-on-other-variables-33" class="slide level2">
<h2>Using <code>mutate</code> to calculate a new variable based on other variables (3/3)</h2>
<p>Figure examining the newly created variables using <code>mutate</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb140-1"><a href=""></a><span class="fu">ggplot</span>(yrbss_new) <span class="sc">+</span></span>
<span id="cb140-2"><a href=""></a>  <span class="fu">aes</span>(<span class="at">x =</span> stweight, </span>
<span id="cb140-3"><a href=""></a>      <span class="at">y =</span> weight_kg) <span class="sc">+</span></span>
<span id="cb140-4"><a href=""></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_R_berd_2024_files/figure-revealjs/unnamed-chunk-88-1.png" width="960" class="r-stretch"></section>
<section id="brief-aside-categorical-data-factors" class="slide level2">
<h2>Brief aside: categorical data (<code>factor</code>s)</h2>
<ul>
<li><p>One data type that we haven’t yet looked at are <code>factor</code>s</p>
<ul>
<li><span style="color:darkorange">factors are how R represents <strong>levels</strong> of <em>categorical data</em></span>.</li>
</ul></li>
<li><p>For the most part, you can use <code>character</code> and <code>factors</code> interchangeably for categorical data.</p></li>
<li><p>However, there is one main difference.</p>
<ul>
<li><code>factor</code>s define the permissible values in a vector with an argument called <code>levels</code>.</li>
<li>They also define the order in which these values are displayed.</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href=""></a>character_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Dog"</span>, <span class="st">"Dog"</span>, <span class="st">"Cat"</span>, <span class="st">"Mouse"</span>)   <span class="co"># c() is the concatenate function</span></span>
<span id="cb141-2"><a href=""></a><span class="fu">class</span>(character_vector)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href=""></a><span class="fu">tabyl</span>(character_vector)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> character_vector n percent
              Cat 1    0.25
              Dog 2    0.50
            Mouse 1    0.25</code></pre>
</div>
</div>
<ul>
<li>The default order of levels is in <strong>alphanumeric</strong> order.</li>
<li>You can make a character vector into a factor vector by using the <code>factor()</code> function, and supplying an argument called <code>levels</code>.</li>
</ul>
</section>
<section id="levels-of-a-factor-variable" class="slide level2">
<h2><strong>Levels</strong> of a <code>factor</code> variable</h2>
<ul>
<li><p>The <code>levels</code> of a factor are the <em>permissible values</em> in a <code>factor</code>.</p></li>
<li><p>The <strong>order of the values in a factor variable</strong> determine the order in which the values appear in tables and on the axes in a plot.</p></li>
<li><p>You can control the order of the categories in a factor by specifying the order of the categories in the <code>levels</code> argument.</p></li>
<li><p>You can find out the levels of the factor with the function <code>levels()</code> or <code>tabyl()</code>.</p></li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href=""></a>factor_vector <span class="ot">&lt;-</span> <span class="fu">factor</span>(character_vector)</span>
<span id="cb145-2"><a href=""></a></span>
<span id="cb145-3"><a href=""></a><span class="fu">class</span>(factor_vector)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "factor"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href=""></a><span class="co"># what are the levels of this vector?</span></span>
<span id="cb147-2"><a href=""></a><span class="fu">levels</span>(factor_vector)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Cat"   "Dog"   "Mouse"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href=""></a><span class="fu">tabyl</span>(factor_vector)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> factor_vector n percent
           Cat 1    0.25
           Dog 2    0.50
         Mouse 1    0.25</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href=""></a><span class="co"># specify our own ordering of levels</span></span>
<span id="cb151-2"><a href=""></a>factor_vector2 <span class="ot">&lt;-</span> <span class="fu">factor</span>(character_vector, </span>
<span id="cb151-3"><a href=""></a>                        <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Dog"</span>, <span class="st">"Cat"</span>, <span class="st">"Mouse"</span>))</span>
<span id="cb151-4"><a href=""></a></span>
<span id="cb151-5"><a href=""></a><span class="fu">levels</span>(factor_vector2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Dog"   "Cat"   "Mouse"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href=""></a><span class="fu">tabyl</span>(factor_vector2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> factor_vector2 n percent
            Dog 2    0.50
            Cat 1    0.25
          Mouse 1    0.25</code></pre>
</div>
</div>
</div>
</div>
<p>Being able to specify the ordering is the main reason to use <code>factors</code>, at least in plotting and calculating counts.</p>
</section>
<section id="mini-practice" class="slide level2">
<h2>Mini-practice</h2>
<p>&nbsp;</p>
<ul>
<li>Change the order of <code>factor_vector</code> to be “Mouse”, “Cat”, “Dog”.</li>
</ul>
<p>&nbsp;</p>
<ul>
<li>Verify that you did it correctly by calling <code>tabyl()</code> or <code>levels()</code></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb155"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb155-1"><a href=""></a>factor_vector <span class="ot">&lt;-</span> <span class="fu">factor</span>(____, </span>
<span id="cb155-2"><a href=""></a>                        <span class="at">levels =</span> _____)</span>
<span id="cb155-3"><a href=""></a></span>
<span id="cb155-4"><a href=""></a><span class="fu">tabyl</span>(factor_vector)</span>
<span id="cb155-5"><a href=""></a></span>
<span id="cb155-6"><a href=""></a><span class="fu">levels</span>(factor_vector)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="using-mutate-to-transform-character-variables-into-factors" class="slide level2">
<h2>Using <code>mutate</code> to transform <code>character</code> variables into <code>factors</code></h2>
<ul>
<li><p>We can also use use <code>mutate()</code> to make a <code>character</code> variable a <code>factor</code>.</p></li>
<li><p>Let’s convert <code>age</code> from <code>character</code> into <code>factor</code>:</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb156"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb156-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span> </span>
<span id="cb156-2"><a href=""></a>  <span class="co">#create a factor variable</span></span>
<span id="cb156-3"><a href=""></a>  <span class="fu">mutate</span>(<span class="at">age_fac =</span> <span class="fu">factor</span>(age))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 20,000 × 9
    record age                   sex    grade race4 race7   bmi stweight age_fac
     &lt;dbl&gt; &lt;chr&gt;                 &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;    &lt;dbl&gt; &lt;fct&gt;  
 1 1317069 18 years old or older Female 12th  Blac… Blac…  24.4     69.0 18 yea…
 2 1317067 18 years old or older Female 12th  White White  18.8     49.9 18 yea…
 3 1317066 18 years old or older Female 12th  White White  32.1     90.7 18 yea…
 4 1317065 18 years old or older Female 12th  White White  21.2     56.2 18 yea…
 5 1317064 18 years old or older Female 12th  White White  23.5     68.0 18 yea…
 6 1317063 18 years old or older Female 12th  White White  21.7     52.2 18 yea…
 7 1317062 18 years old or older Female 12th  White White  24.8     61.2 18 yea…
 8 1317058 18 years old or older Female 11th  Blac… Blac…  17.7     49.9 18 yea…
 9 1317057 18 years old or older Female 12th  All … Asian  19.8     44.4 18 yea…
10 1317056 18 years old or older Female 12th  White White  21.7     61.2 18 yea…
# ℹ 19,990 more rows</code></pre>
</div>
</div>
<ul>
<li>An example with grade:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb158"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb158-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span> </span>
<span id="cb158-2"><a href=""></a>  <span class="co">#create a factor variable</span></span>
<span id="cb158-3"><a href=""></a>  <span class="fu">mutate</span>(<span class="at">grade =</span> <span class="fu">factor</span>(grade)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 20,000 × 8
    record age                   sex    grade race4         race7   bmi stweight
     &lt;dbl&gt; &lt;chr&gt;                 &lt;chr&gt;  &lt;fct&gt; &lt;chr&gt;         &lt;chr&gt; &lt;dbl&gt;    &lt;dbl&gt;
 1 1317069 18 years old or older Female 12th  Black or Afr… Blac…  24.4     69.0
 2 1317067 18 years old or older Female 12th  White         White  18.8     49.9
 3 1317066 18 years old or older Female 12th  White         White  32.1     90.7
 4 1317065 18 years old or older Female 12th  White         White  21.2     56.2
 5 1317064 18 years old or older Female 12th  White         White  23.5     68.0
 6 1317063 18 years old or older Female 12th  White         White  21.7     52.2
 7 1317062 18 years old or older Female 12th  White         White  24.8     61.2
 8 1317058 18 years old or older Female 11th  Black or Afr… Blac…  17.7     49.9
 9 1317057 18 years old or older Female 12th  All other ra… Asian  19.8     44.4
10 1317056 18 years old or older Female 12th  White         White  21.7     61.2
# ℹ 19,990 more rows</code></pre>
</div>
</div>
<ul>
<li>One thing to notice:
<ul>
<li>we are doing something called <span style="color:darkorange"><em>reassignment</em> in the grade example</span>.</li>
<li>We’re taking the previous values of our variable (<code>grade</code>),
<ul>
<li>doing something to it (making it a <code>factor</code>), and then reassigning the variable <code>grade</code> to our new set of values.</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="levels-of-a-factor-variable-revisited" class="slide level2">
<h2><code>levels</code> of a <code>factor</code> variable revisited</h2>
<ul>
<li>Remember when we wanted to decide the order of the categories of the factor?
<ul>
<li>We can assign that order using the <code>levels</code> argument in <code>factor()</code>.</li>
<li>We can check the ordering with <code>tabyl()</code></li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb160"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb160-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span></span>
<span id="cb160-2"><a href=""></a>  <span class="fu">tabyl</span>(grade)    <span class="co"># Order of grades is not correct</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> grade    n percent valid_percent
  10th 4907 0.24535     0.2504338
  11th 4891 0.24455     0.2496172
  12th 4577 0.22885     0.2335919
   9th 5219 0.26095     0.2663570
  &lt;NA&gt;  406 0.02030            NA</code></pre>
</div>
</div>
<ul>
<li>Create grade_fac variable to be a factor version of grade with “correct” levels order:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb162"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb162-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span> </span>
<span id="cb162-2"><a href=""></a>  <span class="fu">mutate</span>(<span class="at">grade_fac =</span> <span class="fu">factor</span>(grade, </span>
<span id="cb162-3"><a href=""></a>                      <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"9th"</span>,<span class="st">"10th"</span>,<span class="st">"11th"</span>,<span class="st">"12th"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb162-4"><a href=""></a>  <span class="fu">tabyl</span>(grade_fac)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> grade_fac    n percent valid_percent
       9th 5219 0.26095     0.2663570
      10th 4907 0.24535     0.2504338
      11th 4891 0.24455     0.2496172
      12th 4577 0.22885     0.2335919
      &lt;NA&gt;  406 0.02030            NA</code></pre>
</div>
</div>
<ul>
<li>Notice that the order of the grade categories is now correct</li>
</ul>
<div class="callout callout-warning callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Warning</strong></p>
</div>
<div class="callout-content">
<p><em>Remember spelling matters!</em></p>
</div>
</div>
</div>
<ul>
<li>If we try to use a factor level that doesn’t exist (“10” vs “10th”),
<ul>
<li>we won’t have any data in that category, and</li>
<li>the non-specified levels (“10”) get set to <code>NA</code> missing.</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb164"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb164-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span> </span>
<span id="cb164-2"><a href=""></a>  <span class="fu">mutate</span>(<span class="at">grade_fac =</span> <span class="fu">factor</span>(grade, </span>
<span id="cb164-3"><a href=""></a>                      <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"9th"</span>,<span class="st">"10"</span>,<span class="st">"11th"</span>,<span class="st">"12th"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb164-4"><a href=""></a>  <span class="fu">tabyl</span>(grade_fac)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> grade_fac    n percent valid_percent
       9th 5219 0.26095     0.3553483
        10    0 0.00000     0.0000000
      11th 4891 0.24455     0.3330156
      12th 4577 0.22885     0.3116361
      &lt;NA&gt; 5313 0.26565            NA</code></pre>
</div>
</div>
</section></section>
<section id="practice-time-part-5" class="title-slide slide level1 center scrollable">
<h1>Practice time! (part 5)</h1>
<ol type="1">
<li>Create a new variable <code>height</code> that calculates height based on <code>bmi</code> and <code>weight_kg</code>. Note the formula for BMI is weight/height^2 (weight is in kilograms and height is in meters). Create a scatterplot of <code>bmi</code> vs <code>height</code>.</li>
<li>Create a new factor variable <code>sex_fac</code> that orders the values of <code>sex</code> as Male, Female.</li>
</ol>
</section>

<section>
<section id="make-categorical-variables-with-case_when" class="title-slide slide level1 center">
<h1>Make categorical variables with <code>case_when()</code></h1>

<img data-src="image/dplyr_case_when.png" class="r-stretch quarto-figure-center"><p class="caption"><a href="https://allisonhorst.com/everything-else">Artwork by @allison_horst</a></p></section>
<section id="case_when" class="slide level2">
<h2><code>case_when()</code></h2>
<ul>
<li>Currently the grade variable is a character vector. How do we change these to numeric?</li>
<li>Or, how might we dichotomize a continuous variable such as bmi?</li>
<li>Or, what if we want to combine categories?</li>
</ul>
<p>First let’s start with a simple binary 2 category variable.</p>
<ul>
<li>We need to follow the <strong>basic pattern</strong> for each of our categories inside <code>case_when()</code>:
<ul>
<li><span style="color:darkorange"><em>condition</em> ~ <em>category name</em></span></li>
<li>The <em>left</em> side of the <code>~</code> is where we can specify how we <em>define</em> the category based on our column variable names.</li>
<li>The <em>right</em> side of the <code>~</code> is where we can specify the <em>category name</em> (as a character).</li>
<li>Separate each “case” with a comma.</li>
</ul></li>
</ul>
</section>
<section id="case_when-example-1" class="slide level2">
<h2><code>case_when()</code> example 1</h2>
<ul>
<li>In the example below, we are converting <code>sex</code> to a character variable called <code>female</code>:
<ul>
<li><code>sex == "Female"</code> tests whether the column <code>sex</code> is Female, which is how we define the category 1
<ul>
<li>1 is the new value, and this is the right side of <code>~</code></li>
</ul></li>
<li><code>sex == "Male"</code> tests whether the column <code>sex</code> is Male, which is how we define the category 0
<ul>
<li>0 is the new value, and this is the right side of <code>~</code></li>
</ul></li>
</ul></li>
<li>Note how <code>NA</code> is handled here:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb166"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb166-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span></span>
<span id="cb166-2"><a href=""></a>  <span class="fu">mutate</span>(<span class="at">female =</span> <span class="fu">case_when</span>(</span>
<span id="cb166-3"><a href=""></a>    sex <span class="sc">==</span> <span class="st">"Female"</span> <span class="sc">~</span> <span class="dv">1</span>, <span class="co"># do not forget this comma!</span></span>
<span id="cb166-4"><a href=""></a>    sex <span class="sc">==</span> <span class="st">"Male"</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb166-5"><a href=""></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb166-6"><a href=""></a>  <span class="fu">tabyl</span>(female) <span class="co"># look at the categories</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> female     n percent valid_percent
      0 10177 0.50885     0.5147959
      1  9592 0.47960     0.4852041
     NA   231 0.01155            NA</code></pre>
</div>
</div>
</section>
<section id="case_when-example-2" class="slide level2">
<h2><code>case_when()</code> example 2</h2>
<ul>
<li>In the example below, we are dichotomizing the continuous variable bmi into two categories</li>
<li>We need to do this for each level in our category:</li>
</ul>
<p><span style="color:darkorange"><em>left side</em> defines the condition <em>~</em> <em>right side</em> names the category</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb168"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb168-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span></span>
<span id="cb168-2"><a href=""></a>  <span class="fu">mutate</span>(</span>
<span id="cb168-3"><a href=""></a>    <span class="at">bmi30 =</span> <span class="fu">case_when</span>(</span>
<span id="cb168-4"><a href=""></a>      bmi <span class="sc">&lt;</span> <span class="dv">30</span> <span class="sc">~</span> <span class="st">"&lt;30"</span>, <span class="co"># don't forget a comma between cases</span></span>
<span id="cb168-5"><a href=""></a>      bmi <span class="sc">&gt;=</span> <span class="dv">30</span> <span class="sc">~</span> <span class="st">"30+"</span></span>
<span id="cb168-6"><a href=""></a>    )</span>
<span id="cb168-7"><a href=""></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb168-8"><a href=""></a>  <span class="fu">tabyl</span>(bmi30)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> bmi30     n percent valid_percent
   30+  1351 0.06755     0.0997637
   &lt;30 12191 0.60955     0.9002363
  &lt;NA&gt;  6458 0.32290            NA</code></pre>
</div>
</div>
</section>
<section id="case_when-example-3" class="slide level2">
<h2><code>case_when()</code> example 3</h2>
<p>Next we recode bmi to have 3 levels:</p>
<ul>
<li><code>&lt;20</code> (not including exactly 20)</li>
<li><code>20-30</code> (not including exactly 30)</li>
<li><code>30+</code></li>
</ul>
<p>Notice the middle category we use an &amp; statement similar to how we used logic in filter</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb170"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb170-1"><a href=""></a>yrbss_data <span class="sc">%&gt;%</span></span>
<span id="cb170-2"><a href=""></a>  <span class="fu">mutate</span>(</span>
<span id="cb170-3"><a href=""></a>    <span class="at">bmi3cat =</span> <span class="fu">case_when</span>(</span>
<span id="cb170-4"><a href=""></a>      bmi <span class="sc">&lt;</span> <span class="dv">20</span> <span class="sc">~</span> <span class="st">"&lt;20"</span>,</span>
<span id="cb170-5"><a href=""></a>      (bmi <span class="sc">&gt;=</span><span class="dv">20</span>) <span class="sc">&amp;</span> (bmi <span class="sc">&lt;</span> <span class="dv">30</span>) <span class="sc">~</span> <span class="st">"20-30"</span>,</span>
<span id="cb170-6"><a href=""></a>      bmi <span class="sc">&gt;=</span> <span class="dv">30</span> <span class="sc">~</span> <span class="st">"30+"</span></span>
<span id="cb170-7"><a href=""></a>    )</span>
<span id="cb170-8"><a href=""></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb170-9"><a href=""></a>  <span class="fu">mutate</span>(<span class="at">bmi3cat =</span> <span class="fu">factor</span>(bmi3cat)) <span class="sc">%&gt;%</span>   <span class="co"># make it factor after creating categories</span></span>
<span id="cb170-10"><a href=""></a>  <span class="fu">tabyl</span>(bmi3cat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> bmi3cat    n percent valid_percent
     &lt;20 3167 0.15835     0.2338650
   20-30 9024 0.45120     0.6663713
     30+ 1351 0.06755     0.0997637
    &lt;NA&gt; 6458 0.32290            NA</code></pre>
</div>
</div>
</section></section>
<section id="practice-time-part-6" class="title-slide slide level1 center scrollable">
<h1>Practice time! (part 6)</h1>
<ol type="1">
<li>Create a new category variable called <code>grade_num</code> in <code>yrbss_data</code> that converts <code>grade</code> to numeric.</li>
<li>Create a new variable called <code>race_cat</code> that relabels <code>race4</code> to have shorter race category names: W (White), H/L (Hispanic/Latino), B/AA (Black or African American), Other (All other races). Make <code>race_cat</code> a factor variable with levels ordered by the size of the group in descending order.</li>
<li>Create a <code>tabyl</code> of the new variable <code>race_cat</code> and <code>race4</code> to check your work, including the ordering of the factors.</li>
</ol>
</section>

<section>
<section id="try-what-weve-learned-with-making-figures-using-ggplot2" class="title-slide slide level1 center">
<h1>Try what we’ve learned with making figures using <code>ggplot2</code></h1>

</section>
<section id="recall-boxplots-geom_boxplot" class="slide level2">
<h2>Recall boxplots <code>geom_boxplot()</code></h2>
<ul>
<li>Boxplots can be used to compare the distribution of a quantitative variable among categories.
<ul>
<li>We need a categorical variable (here, our <code>x</code> axis)</li>
<li>and a continuous numeric variable, shown here on our <code>y</code> axis.</li>
</ul></li>
</ul>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb172"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb172-1"><a href=""></a><span class="co"># creating a boxplot</span></span>
<span id="cb172-2"><a href=""></a></span>
<span id="cb172-3"><a href=""></a><span class="fu">ggplot</span>(yrbss_data) <span class="sc">+</span></span>
<span id="cb172-4"><a href=""></a>  <span class="fu">aes</span>(<span class="at">x =</span> grade, </span>
<span id="cb172-5"><a href=""></a>      <span class="at">y =</span> bmi) <span class="sc">+</span></span>
<span id="cb172-6"><a href=""></a>  <span class="fu">geom_boxplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="slides_R_berd_2024_files/figure-revealjs/unnamed-chunk-101-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div>
<ul>
<li><p>The main differences from the scatterplots we created earlier are the <code>geom</code> type and the variables plotted.</p></li>
<li><p>We can change the color similarly to scatterplots.</p>
<ul>
<li>However, we map to <code>fill</code> and not <code>color</code> if we want to fill in the box with color:</li>
</ul></li>
</ul>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb173"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb173-1"><a href=""></a><span class="co"># adding color</span></span>
<span id="cb173-2"><a href=""></a><span class="fu">ggplot</span>(yrbss_data) <span class="sc">+</span></span>
<span id="cb173-3"><a href=""></a>  <span class="fu">aes</span>(<span class="at">x =</span> grade, </span>
<span id="cb173-4"><a href=""></a>      <span class="at">y =</span> bmi,</span>
<span id="cb173-5"><a href=""></a>      <span class="at">fill =</span> grade) <span class="sc">+</span></span>
<span id="cb173-6"><a href=""></a>  <span class="fu">geom_boxplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="slides_R_berd_2024_files/figure-revealjs/unnamed-chunk-102-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="factor-levels-when-plotting" class="slide level2">
<h2>Factor levels when plotting</h2>
<ul>
<li>Perhaps we want to <strong>change the order of the <code>grade</code> levels</strong> in our plot.</li>
<li>This is where factor levels are useful:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb174"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb174-1"><a href=""></a>yrbss_new <span class="ot">&lt;-</span> yrbss_data <span class="sc">%&gt;%</span> </span>
<span id="cb174-2"><a href=""></a>  <span class="fu">mutate</span>(<span class="at">grade =</span> <span class="fu">factor</span>(grade, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"9th"</span>, <span class="st">"10th"</span>, <span class="st">"11th"</span>, <span class="st">"12th"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb174-3"><a href=""></a>  <span class="fu">drop_na</span>(grade)</span>
<span id="cb174-4"><a href=""></a></span>
<span id="cb174-5"><a href=""></a><span class="fu">ggplot</span>(yrbss_new) <span class="sc">+</span></span>
<span id="cb174-6"><a href=""></a>  <span class="fu">aes</span>(<span class="at">x =</span> grade, </span>
<span id="cb174-7"><a href=""></a>      <span class="at">y =</span> bmi,</span>
<span id="cb174-8"><a href=""></a>      <span class="at">fill =</span> grade) <span class="sc">+</span></span>
<span id="cb174-9"><a href=""></a>  <span class="fu">geom_boxplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides_R_berd_2024_files/figure-revealjs/unnamed-chunk-103-1.png" width="960" class="r-stretch"></section>
<section id="faceting-our-boxplot-with-facet_wrap" class="slide level2">
<h2>Faceting our boxplot with <code>facet_wrap()</code></h2>
<div class="columns">
<div class="column" style="width:35%;">
<ul>
<li>One of the most powerful ways to change a visualization is by <em>faceting</em>.
<ul>
<li>We can make multiple plots stratifying by a categorical variable.</li>
</ul></li>
<li>To do this, we have to add the <code>facet_wrap()</code> command to our plot.
<ul>
<li>We need to specify the variable to <code>facet_wrap</code> - <code>race4</code> by using the <code>vars()</code> function to specify it as a variable.</li>
</ul></li>
</ul>
</div><div class="column" style="width:65%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb175"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb175-1"><a href=""></a><span class="co"># facet_wrap:</span></span>
<span id="cb175-2"><a href=""></a><span class="fu">ggplot</span>(yrbss_new) <span class="sc">+</span></span>
<span id="cb175-3"><a href=""></a>  <span class="fu">aes</span>(<span class="at">x =</span> bmi, </span>
<span id="cb175-4"><a href=""></a>      <span class="at">y =</span> grade,</span>
<span id="cb175-5"><a href=""></a>      <span class="at">fill =</span> grade) <span class="sc">+</span></span>
<span id="cb175-6"><a href=""></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb175-7"><a href=""></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(<span class="fu">factor</span>(race4)))  <span class="co">#NEW!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="slides_R_berd_2024_files/figure-revealjs/unnamed-chunk-104-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<ul>
<li><p><em>Don’t try to facet on a continous <code>numeric</code> variable - it won’t work.</em></p></li>
<li><p>Don’t forget to look at the help documentation (e.g., <code>?facet_wrap</code>) to learn more about additional ways to customize your plots!</p></li>
</ul>
</section>
<section id="faceting-our-boxplot-with-facet_grid" class="slide level2">
<h2>Faceting our boxplot with <code>facet_grid()</code></h2>
<div class="columns">
<div class="column" style="width:35%;">
<ul>
<li>Another way to facet our plots is with <code>facet_grid()</code>,
<ul>
<li>which lets us select the rows and columns based on categorical variables:</li>
</ul></li>
</ul>
</div><div class="column" style="width:65%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb176"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb176-1"><a href=""></a><span class="fu">ggplot</span>(yrbss_new) <span class="sc">+</span></span>
<span id="cb176-2"><a href=""></a>  <span class="fu">aes</span>(<span class="at">x =</span> bmi, </span>
<span id="cb176-3"><a href=""></a>      <span class="at">y =</span> sex,</span>
<span id="cb176-4"><a href=""></a>      <span class="at">fill =</span> sex) <span class="sc">+</span></span>
<span id="cb176-5"><a href=""></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb176-6"><a href=""></a>  <span class="fu">facet_grid</span>(<span class="at">rows =</span> <span class="fu">vars</span>(grade),  <span class="co">#NEW!</span></span>
<span id="cb176-7"><a href=""></a>             <span class="at">cols =</span> <span class="fu">vars</span>(race4))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="slides_R_berd_2024_files/figure-revealjs/unnamed-chunk-105-1.png" width="1152"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="mini-practice-1" class="slide level2">
<h2>Mini-practice</h2>
<p>Facet the boxplot below by <code>age</code> and <code>grade</code>, don’t forget the <code>vars()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb177"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb177-1"><a href=""></a><span class="co"># change eval: TRUE above</span></span>
<span id="cb177-2"><a href=""></a></span>
<span id="cb177-3"><a href=""></a><span class="fu">ggplot</span>(yrbss_new) <span class="sc">+</span></span>
<span id="cb177-4"><a href=""></a>  </span>
<span id="cb177-5"><a href=""></a>  <span class="fu">aes</span>(<span class="at">x =</span> bmi, </span>
<span id="cb177-6"><a href=""></a>      <span class="at">y =</span> sex,</span>
<span id="cb177-7"><a href=""></a>      <span class="at">fill =</span> sex) <span class="sc">+</span></span>
<span id="cb177-8"><a href=""></a>  </span>
<span id="cb177-9"><a href=""></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span> </span>
<span id="cb177-10"><a href=""></a>  </span>
<span id="cb177-11"><a href=""></a>  <span class="fu">facet_grid</span>(______)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="back-to-mutate-using-mutate-to-replace-missing-values-with-replace_na" class="slide level2">
<h2>Back to <code>mutate</code>: using <code>mutate</code> to replace missing values with <code>replace_na</code></h2>
<ul>
<li>Sometimes we want to fill in missing values with a certain value.</li>
<li>We can use the <code>replace_na()</code> function inside of <code>mutate()</code> to specify this.</li>
<li>For example, suppose if the bmi variable is missing,
<ul>
<li>we want to replace it with the average bmi across the entire data set.</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb178"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb178-1"><a href=""></a>yrbss_new <span class="ot">&lt;-</span> yrbss_data <span class="sc">%&gt;%</span></span>
<span id="cb178-2"><a href=""></a>  <span class="fu">mutate</span>(<span class="at">bmi_filled =</span></span>
<span id="cb178-3"><a href=""></a>           <span class="fu">replace_na</span>(bmi,</span>
<span id="cb178-4"><a href=""></a>                      <span class="fu">mean</span>(bmi, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)))           </span>
<span id="cb178-5"><a href=""></a>yrbss_new <span class="sc">%&gt;%</span> </span>
<span id="cb178-6"><a href=""></a>  <span class="fu">select</span>(<span class="fu">contains</span>(<span class="st">"bmi"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb178-7"><a href=""></a>  <span class="fu">tail</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
    bmi bmi_filled
  &lt;dbl&gt;      &lt;dbl&gt;
1    NA       23.5
2    NA       23.5
3    NA       23.5
4    NA       23.5
5    NA       23.5
6    NA       23.5</code></pre>
</div>
</div>
<ul>
<li>We can also fill in missing values for character vectors
<ul>
<li>Here we replace missingness in the <code>grade</code> column with <code>unknown</code>:</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb180"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb180-1"><a href=""></a>yrbss_new <span class="ot">&lt;-</span> yrbss_new <span class="sc">%&gt;%</span></span>
<span id="cb180-2"><a href=""></a>    <span class="fu">mutate</span>(<span class="at">gradefilled =</span> <span class="fu">replace_na</span>(grade, <span class="st">"unknown"</span>))</span>
<span id="cb180-3"><a href=""></a></span>
<span id="cb180-4"><a href=""></a>yrbss_new <span class="sc">%&gt;%</span> </span>
<span id="cb180-5"><a href=""></a>  <span class="fu">tabyl</span>(gradefilled, grade)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> gradefilled 10th 11th 12th  9th NA_
        10th 4907    0    0    0   0
        11th    0 4891    0    0   0
        12th    0    0 4577    0   0
         9th    0    0    0 5219   0
     unknown    0    0    0    0 406</code></pre>
</div>
</div>
</section></section>
<section id="practice-time-part-7" class="title-slide slide level1 center scrollable">
<h1>Practice time! (part 7)</h1>
<ol type="1">
<li>Create a barplot of <code>race4</code>, faceted by <code>sex</code>.</li>
</ol>
</section>

<section id="useful-keyboard-shortcuts" class="title-slide slide level1 center">
<h1>Useful keyboard shortcuts</h1>
<p><a href="https://support.posit.co/hc/en-us/articles/200711853-Keyboard-Shortcuts">Full list of keyboard shortcuts</a></p>
<table class="caption-top">
<colgroup>
<col style="width: 50%">
<col style="width: 27%">
<col style="width: 22%">
</colgroup>
<thead>
<tr class="header">
<th>action</th>
<th>mac</th>
<th>windows/linux</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Run code in qmd (or script)</td>
<td>cmd + enter</td>
<td>ctrl + enter</td>
</tr>
<tr class="even">
<td><code>&lt;-</code></td>
<td>option + -</td>
<td>alt + -</td>
</tr>
<tr class="odd">
<td>interrupt currently running command</td>
<td>esc</td>
<td>esc</td>
</tr>
<tr class="even">
<td>keyboard shortcut help</td>
<td>option + shift + k</td>
<td>alt + shift + k</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p><strong>Practice:</strong> Try typing code below in your qmd (with shortcut) and evaluating it (with shortcut):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb182"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb182-1"><a href=""></a>y <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb182-2"><a href=""></a>y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

<section>
<section id="conclusions" class="title-slide slide level1 center">
<h1>Conclusions</h1>

<img data-src="image/horst_r_first_then.png" class="r-stretch quarto-figure-center"><p class="caption">Artwork by @allison_horst</p></section>
<section id="you-will-get-frustrated-while-learning-r" class="slide level2 scrollable">
<h2>You WILL get frustrated while learning R!</h2>
<p>From Garrett Grolemund’s Prologue of his book <em>Hands-On Programming with R</em><sup>1</sup>:</p>
<blockquote>
<p>As you learn to program, you are going to get frustrated. You are learning a new language, and it will take time to become fluent. But frustration is not just natural, it’s actually a positive sign that you should watch for. Frustration is your brain’s way of being lazy; it’s trying to get you to quit and go do something easy or fun. If you want to get physically fitter, you need to push your body even though it complains. If you want to get better at programming, you’ll need to push your brain. Recognize when you get frustrated and see it as a good thing: you’re now stretching yourself. Push yourself a little further every day, and you’ll soon be a confident programmer.</p>
</blockquote>
<aside><ol class="aside-footnotes"><li id="fn1"><p>Grolemund, Garrett. 2014. Hands-on Programming with R. O’Reilly. <a href="https://rstudio-education.github.io/hopr/" class="uri">https://rstudio-education.github.io/hopr/</a></p></li></ol></aside></section>
<section id="where-are-you-in-your-r-learning-timeline" class="slide level2">
<h2>Where are you in your R learning timeline?</h2>

<img data-src="image/horst_timeline_Rlearning.png" class="r-stretch quarto-figure-center"><p class="caption"><a href="https://allisonhorst.com/everything-else">Artwork by @allison_horst</a></p></section></section>
<section id="resources" class="title-slide slide level1 center">
<h1>Resources</h1>

</section>

<section>
<section id="more-intro-r-and-markdown-slides" class="title-slide slide level1 center">
<h1>More intro R and markdown slides</h1>
<ul>
<li>These slides are heavily adapted from past R workshops
<ul>
<li>sponsored by <em>OCTRI Biostatistics, Epidemiology, Research &amp; Design (BERD)</em>:</li>
</ul></li>
<li><strong>Introduction to R and RStudio for Exploratory Data Analysis: Part 1</strong> 2020/09/16
<ul>
<li>slides: <a href="http://bit.ly/berd_intro_part1">bit.ly/berd_intro_part1</a></li>
<li>pdf: <a href="http://bit.ly/berd_intro_part1_pdf">bit.ly/berd_intro_part1_pdf</a> - recording of the presentation <a href="https://echo360.org/media/b9bb7e08-8cf4-4f04-84a8-3236f89a3281/public">1st half link</a>; <a href="https://echo360.org/media/955bbbb1-4953-40f1-b769-f53afff40b20/public">2nd half link</a></li>
</ul></li>
<li><strong>Introduction to R and RStudio for Exploratory Data Analysis: Part 2</strong> 2020/09/17
<ul>
<li>slides: <a href="http://bit.ly/berd_intro_part2">bit.ly/berd_intro_part2</a></li>
<li>pdf: <a href="http://bit.ly/berd_intro_part2_pdf">bit.ly/berd_intro_part2_pdf</a> - <a href="https://echo360.org/media/04d4ec82-35a6-43b2-8463-2db51f936c6d/public">recording of the presentation</a></li>
</ul></li>
<li><strong>Reproducible Reports with R Markdown</strong> 2019/09/25
<ul>
<li>slides: <a href="http://bit.ly/berd_rmd_2019">bit.ly/berd_rmd_2019</a></li>
<li>pdf: <a href="http://bit.ly/berd_rmd_pdf_2019">bit.ly/berd_rmd_pdf_2019</a> - <a href="https://echo360.org/media/b082e803-0677-445f-9688-f96b9c36dc93/public">recording of the presentation</a></li>
<li>Note: most of this applies to Quarto as well, but there are some differences between Quarto and R Markdown.</li>
</ul></li>
</ul>
</section>
<section id="quarto-resources" class="slide level2">
<h2>Quarto Resources</h2>
<ul>
<li><a href="https://quarto.org/docs/guide/">Official Quarto guide:</a> https://quarto.org/docs/guide/
<ul>
<li><a href="https://quarto.org/docs/authoring/markdown-basics.html">Markdown basics:</a> https://quarto.org/docs/authoring/markdown-basics.html
<ul>
<li>Text formatting, headings, linnks, images, lists, tables, equations, diagrams, page breaks, keyboard shortcuts, and more!</li>
</ul></li>
<li><a href="https://quarto.org/docs/computations/r.html#code-blocks">Code blocks:</a> https://quarto.org/docs/computations/r.html#code-blocks
<ul>
<li><a href="https://quarto.org/docs/computations/r.html#chunk-options">Chunk options:</a> https://quarto.org/docs/computations/r.html#chunk-options</li>
</ul></li>
</ul></li>
<li>Mine Çetinkaya-Rundel’s <a href="https://mine-cetinkaya-rundel.github.io/quarto-tip-a-day/">Quarto tip a day:</a> https://mine-cetinkaya-rundel.github.io/quarto-tip-a-day/<br>
</li>
<li>Hadley Wickham’s <a href="https://r4ds.hadley.nz/">R for Data Science:</a> https://r4ds.hadley.nz/
<ul>
<li>See Chapter 29 for Quarto</li>
</ul></li>
</ul>
<div class="quarto-auto-generated-content">
<div class="footer footer-default">

</div>
</div>
</section></section>

    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="slides_R_berd_2024_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="slides_R_berd_2024_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="slides_R_berd_2024_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="slides_R_berd_2024_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="slides_R_berd_2024_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="slides_R_berd_2024_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="slides_R_berd_2024_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="slides_R_berd_2024_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="slides_R_berd_2024_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="slides_R_berd_2024_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="slides_R_berd_2024_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1100,

        height: 825,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>